{"ast":null,"code":"var _jsxFileName = \"F:\\\\Download\\\\pph\\\\web\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, CircleMarker, useMapEvents } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { FaWater } from 'react-icons/fa';\nimport { puneLocations, puneCenter, getRiverColor, riverPaths, preSampledRiver, riverDescriptions } from './locations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:8000';\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'\n});\nfunction Calendar({\n  date,\n  onChange\n}) {\n  _s();\n  // full month grid calendar (always visible in sidebar)\n  const base = date ? new Date(date) : new Date();\n  const [viewMonth, setViewMonth] = React.useState(base.getMonth());\n  const [viewYear, setViewYear] = React.useState(base.getFullYear());\n  React.useEffect(() => {\n    const d = date ? new Date(date) : new Date();\n    setViewMonth(d.getMonth());\n    setViewYear(d.getFullYear());\n  }, [date]);\n  const startOfMonth = (y, m) => new Date(y, m, 1);\n  const daysInMonth = (y, m) => new Date(y, m + 1, 0).getDate();\n  const weeks = [];\n  const firstDay = startOfMonth(viewYear, viewMonth).getDay(); // 0=Sun\n  const leading = (firstDay + 6) % 7; // shift to Monday first (0=Mon)\n  const total = leading + daysInMonth(viewYear, viewMonth);\n  const rows = Math.ceil(total / 7);\n  let day = 1 - leading;\n  for (let r = 0; r < rows; r++) {\n    const week = [];\n    for (let c = 0; c < 7; c++, day++) {\n      const cellDate = new Date(viewYear, viewMonth, day);\n      week.push(cellDate);\n    }\n    weeks.push(week);\n  }\n  const monthName = new Date(viewYear, viewMonth).toLocaleString(undefined, {\n    month: 'long'\n  });\n  const monthNames = Array.from({\n    length: 12\n  }, (_, i) => new Date(2000, i).toLocaleString(undefined, {\n    month: 'long'\n  }));\n  const getYearOptions = center => {\n    const cy = new Date().getFullYear();\n    const start = Math.min(center - 5, cy - 5);\n    const end = Math.max(center + 5, cy + 5);\n    const arr = [];\n    for (let y = start; y <= end; y++) arr.push(y);\n    return arr;\n  };\n  const selectDate = d => {\n    const iso = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n    onChange && onChange(iso);\n  };\n  const selected = date ? new Date(date) : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inline-calendar\",\n    style: {\n      padding: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cal-head\",\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '6px 4px',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"small\",\n        onClick: () => {\n          const m = viewMonth - 1;\n          if (m < 0) {\n            setViewYear(v => v - 1);\n            setViewMonth(11);\n          } else setViewMonth(m);\n        },\n        children: '◀'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: viewMonth,\n          onChange: e => setViewMonth(Number(e.target.value)),\n          style: {\n            padding: 6,\n            borderRadius: 6\n          },\n          \"aria-label\": \"Select month\",\n          children: monthNames.map((mn, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: idx,\n            children: mn\n          }, mn, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 40\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: viewYear,\n          onChange: e => setViewYear(Number(e.target.value)),\n          style: {\n            padding: 6,\n            borderRadius: 6\n          },\n          \"aria-label\": \"Select year\",\n          children: getYearOptions(viewYear).map(y => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: y,\n            children: y\n          }, y, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 48\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"small\",\n          onClick: () => {\n            const m = viewMonth + 1;\n            if (m > 11) {\n              setViewYear(v => v + 1);\n              setViewMonth(0);\n            } else setViewMonth(m);\n          },\n          children: '▶'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"small\",\n          onClick: () => {\n            const td = new Date();\n            const iso = `${td.getFullYear()}-${String(td.getMonth() + 1).padStart(2, '0')}-${String(td.getDate()).padStart(2, '0')}`;\n            setViewMonth(td.getMonth());\n            setViewYear(td.getFullYear());\n            onChange && onChange(iso);\n          },\n          title: \"Jump to today\",\n          children: \"Today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(7,1fr)',\n        gap: 4,\n        marginTop: 8,\n        color: '#64748b',\n        fontSize: 12,\n        fontWeight: 700,\n        textAlign: 'center'\n      },\n      children: ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'].map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: d\n      }, d, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 55\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: weeks.map((week, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(7,1fr)',\n          gap: 4,\n          marginBottom: 4\n        },\n        children: week.map(d => {\n          const inMonth = d.getMonth() === viewMonth;\n          const isSelected = selected && d.getFullYear() === selected.getFullYear() && d.getMonth() === selected.getMonth() && d.getDate() === selected.getDate();\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => inMonth && selectDate(d),\n            style: {\n              padding: 10,\n              borderRadius: 6,\n              border: 'none',\n              background: isSelected ? 'var(--primary)' : inMonth ? '#f8fafc' : 'transparent',\n              color: isSelected ? '#fff' : inMonth ? '#0b3b52' : '#94a3b8',\n              cursor: inMonth ? 'pointer' : 'default'\n            },\n            children: d.getDate()\n          }, d.toISOString(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this);\n        })\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(Calendar, \"+WjzgPy1E1H6pbTexAGZoB0CTbk=\");\n_c = Calendar;\nfunction MapClickHandler({\n  onMapClick\n}) {\n  _s2();\n  useMapEvents({\n    click: e => onMapClick && onMapClick({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng\n    })\n  });\n  return null;\n}\n_s2(MapClickHandler, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n  return [useMapEvents];\n});\n_c2 = MapClickHandler;\nfunction getParameterStatus(key, value) {\n  // value may be numeric or string; handle Water Quality specially\n  if (key === 'Water Quality') {\n    const s = String(value || '').toLowerCase();\n    if (s.includes('non')) return {\n      label: 'Non Complying',\n      cls: 'status-poor'\n    };\n    if (s.includes('comp')) return {\n      label: 'Complying',\n      cls: 'status-good'\n    };\n    return {\n      label: String(value || ''),\n      cls: 'status-na'\n    };\n  }\n  const v = Number(value);\n  switch (key) {\n    case 'pH':\n      if (v >= 6.5 && v <= 8.5) return {\n        label: 'Good',\n        cls: 'status-good'\n      };\n      if (v >= 6.0 && v <= 9.0) return {\n        label: 'Moderate',\n        cls: 'status-moderate'\n      };\n      return {\n        label: 'Poor',\n        cls: 'status-poor'\n      };\n    case 'DO (mg/L)':\n    case 'DO':\n      if (v >= 5.0) return {\n        label: 'Good',\n        cls: 'status-good'\n      };\n      if (v >= 3.0) return {\n        label: 'Moderate',\n        cls: 'status-moderate'\n      };\n      return {\n        label: 'Poor',\n        cls: 'status-poor'\n      };\n    case 'BOD (mg/L)':\n    case 'BOD':\n      if (v <= 3.0) return {\n        label: 'Good',\n        cls: 'status-good'\n      };\n      if (v <= 6.0) return {\n        label: 'Moderate',\n        cls: 'status-moderate'\n      };\n      return {\n        label: 'Poor',\n        cls: 'status-poor'\n      };\n    case 'FC MPN/100ml':\n    case 'TC MPN/100ml':\n    case 'FC':\n    case 'TC':\n      if (isNaN(v)) return {\n        label: String(value),\n        cls: 'status-na'\n      };\n      if (v < 500) return {\n        label: 'Good',\n        cls: 'status-good'\n      };\n      if (v <= 1000) return {\n        label: 'Moderate',\n        cls: 'status-moderate'\n      };\n      return {\n        label: 'Poor',\n        cls: 'status-poor'\n      };\n    default:\n      return {\n        label: String(value),\n        cls: 'status-na'\n      };\n  }\n}\nexport default function App() {\n  _s3();\n  const [route, setRoute] = useState('home');\n  const [predictions, setPredictions] = useState({});\n  const [selected, setSelected] = useState(null);\n  const [interpPoints, setInterpPoints] = useState([]);\n  const [sampleCount, setSampleCount] = useState(5);\n  const [selectMode, setSelectMode] = useState(null);\n  const [startPoint, setStartPoint] = useState(null);\n  const [endPoint, setEndPoint] = useState(null);\n  const [mapInst, setMapInst] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n  });\n\n  // fetch predictions for month/year whenever date changes\n  useEffect(() => {\n    const [y, m] = selectedDate.slice(0, 7).split('-').map(Number);\n    let mounted = true;\n    (async () => {\n      try {\n        const res = await fetch(`${API_BASE}/predict_all?month=${m}&year=${y}`);\n        const body = await res.json();\n        const byId = {};\n        for (const item of body.predictions || []) {\n          // try match by id or location name\n          const loc = puneLocations.find(l => l.id === item.id || l.name === item.location || l.name === item.location_name);\n          if (loc) byId[loc.id] = item.values || item;\n        }\n        if (mounted) setPredictions(byId);\n      } catch (err) {\n        // ignore\n      }\n    })();\n    return () => {\n      mounted = false;\n    };\n  }, [selectedDate]);\n  const handleMapClick = useCallback(pt => {\n    if (selectMode === 'start') setStartPoint(pt);else if (selectMode === 'end') setEndPoint(pt);\n  }, [selectMode]);\n  const handleMarkerClick = loc => {\n    setSelected(loc);\n    // attach available prediction\n    const pred = predictions[loc.id] || null;\n    setSelected(prev => ({\n      ...loc,\n      prediction: pred\n    }));\n  };\n  const performInterpolation = async () => {\n    if (!startPoint || !endPoint) return alert('Pick start and end');\n    // find nearest indices in preSampledRiver\n    const nearestIndex = pt => {\n      let best = 0,\n        bestD = Infinity;\n      for (let i = 0; i < preSampledRiver.length; i++) {\n        const dlat = preSampledRiver[i].latitude - pt.latitude;\n        const dlng = preSampledRiver[i].longitude - pt.longitude;\n        const d2 = dlat * dlat + dlng * dlng;\n        if (d2 < bestD) {\n          bestD = d2;\n          best = i;\n        }\n      }\n      return best;\n    };\n    const si = nearestIndex(startPoint),\n      ei = nearestIndex(endPoint);\n    const a = Math.min(si, ei),\n      b = Math.max(si, ei);\n    const sub = preSampledRiver.slice(a, b + 1);\n    const d = new Date(selectedDate);\n    const body = {\n      locations: sub,\n      points: sampleCount,\n      month: d.getMonth() + 1,\n      year: d.getFullYear(),\n      pick_from_input: true\n    };\n    try {\n      const res = await fetch(`${API_BASE}/interpolate_predict`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      const jb = await res.json();\n      if (jb.error) return alert('Server: ' + jb.error);\n      setInterpPoints(jb.predictions || []);\n    } catch (err) {\n      alert('Request failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main\",\n      style: {\n        display: 'flex',\n        gap: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: route === 'home' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"home-page\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"home-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"home-hero\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"logo\",\n                children: /*#__PURE__*/_jsxDEV(FaWater, {\n                  size: 28,\n                  color: \"#fff\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: \"RiverWatch \\u2014 Pune Rivers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"muted\",\n                  children: \"Water quality predictions for Pune rivers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Explore predicted water quality across the Mula, Mutha and Mula-Mutha rivers. Use Predict for single-point queries and Interpolate to sample between two points.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"columns\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col rivers\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Rivers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"river-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"river-name river-mula\",\n                    children: \"Mula\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"river-desc\",\n                    children: [(riverDescriptions['Mula'] || '').split('. ')[0], \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"river-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"river-name river-mutha\",\n                    children: \"Mutha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"river-desc\",\n                    children: [(riverDescriptions['Mutha'] || '').split('. ')[0], \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"river-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"river-name river-mula-mutha\",\n                    children: \"Mula-Mutha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"river-desc\",\n                    children: [(riverDescriptions['Mula-Mutha'] || '').split('. ')[0], \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"About\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"This site reproduces the mobile water-quality model and exposes the same prediction logic on the web. It runs the trained model server-side and offers interpolation that follows river polylines so you can sample predicted values between two points. Use the map to select monitoring sites, compare parameter compliance across locations, and run multi-point interpolation to see spatial patterns for pH, dissolved oxygen, BOD and bacterial indicators across the river network.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col params\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Parameters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"param-names\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"pH\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 27\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"desc\",\n                      children: \"Measures water acidity and alkalinity on a scale of 0-14, with 7 being neutral. Deviations indicate pollution from industrial discharge or organic decomposition affecting aquatic life.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 47\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"DO\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 27\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"desc\",\n                      children: \"Dissolved oxygen levels in milligrams per liter, essential for fish and aquatic organisms. Low DO levels signal organic pollution and eutrophication from sewage or agricultural runoff.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 47\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"BOD\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 27\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"desc\",\n                      children: \"Biological oxygen demand measures oxygen consumed by microorganisms breaking down organic matter. High BOD indicates sewage contamination and reduces available oxygen for aquatic life.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 48\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"FC/TC\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 27\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"desc\",\n                      children: \"Fecal and total coliform bacteria counts per 100ml, indicating sewage contamination and potential health risks. High levels suggest inadequate wastewater treatment and pose serious public health concerns.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 50\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"home-cta\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setRoute('predict'),\n                children: \"Go to Predict\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"secondary\",\n                onClick: () => setRoute('interpolate'),\n                children: \"Go to Interpolate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-content\",\n          style: {\n            height: 'calc(100vh - 36px)'\n          },\n          children: /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: [puneCenter.latitude, puneCenter.longitude],\n            zoom: puneCenter.zoom,\n            className: \"map\",\n            whenCreated: m => setMapInst(m),\n            style: {\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MapClickHandler, {\n              onMapClick: handleMapClick\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), puneLocations.map(loc => {\n              const pred = predictions[loc.id] || null;\n              const entries = pred ? canonicalizePredictionEntries(pred) : [];\n              const overallEntry = entries.find(([k]) => String(k).toLowerCase() === 'water quality');\n              const overallValue = overallEntry ? cleanQualityString(String(overallEntry[1])) : null;\n              const overallStatus = overallEntry ? getParameterStatus('Water Quality', overallEntry[1]) : null;\n              return /*#__PURE__*/_jsxDEV(CircleMarker, {\n                center: [loc.coordinate.latitude, loc.coordinate.longitude],\n                pathOptions: {\n                  color: getRiverColor(loc.river),\n                  fillColor: getRiverColor(loc.river),\n                  fillOpacity: 0.9\n                },\n                radius: 8,\n                eventHandlers: {\n                  click: () => handleMarkerClick(loc)\n                },\n                children: /*#__PURE__*/_jsxDEV(Popup, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"popup-card\",\n                    style: {\n                      minWidth: 260\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"popup-header\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"popup-title\",\n                          children: cleanQualityString(loc.name)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 311,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"popup-sub muted\",\n                          style: {\n                            display: 'flex',\n                            gap: 8,\n                            alignItems: 'center',\n                            marginTop: 8\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: `river-tag ${cleanQualityString(loc.river).replace(/\\s+/g, '-').toLowerCase()}`,\n                            children: cleanQualityString(loc.river)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 313,\n                            columnNumber: 33\n                          }, this), overallValue ? /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `badge ${overallStatus ? overallStatus.cls : 'status-na'}`,\n                            children: overallValue\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 314,\n                            columnNumber: 49\n                          }, this) : null]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 312,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 27\n                    }, this), pred ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"popup-grid\",\n                      children: entries.filter(([k]) => {\n                        const key = String(k).toLowerCase();\n                        return !['location', 'location_name', 'river', 'month', 'year', 'id', 'water quality'].includes(key);\n                      }).map(([k, v]) => {\n                        const value = formatValue(k, v);\n                        const s = getParameterStatus(k, v);\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"param-row\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"param-name\",\n                            children: k\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 331,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"param-value\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"val-text\",\n                              children: value\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 333,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `badge ${s.cls}`,\n                              style: {\n                                marginLeft: 8\n                              },\n                              children: s.label\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 334,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 332,\n                            columnNumber: 39\n                          }, this)]\n                        }, k, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 330,\n                          columnNumber: 37\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginTop: 8\n                      },\n                      children: \"Loading...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 23\n                }, this)\n              }, loc.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 21\n              }, this);\n            }), route === 'interpolate' && startPoint ? /*#__PURE__*/_jsxDEV(Marker, {\n              position: [startPoint.latitude, startPoint.longitude],\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: \"Start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 121\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 58\n            }, this) : null, route === 'interpolate' && endPoint ? /*#__PURE__*/_jsxDEV(Marker, {\n              position: [endPoint.latitude, endPoint.longitude],\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: \"End\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 115\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 56\n            }, this) : null, route === 'interpolate' && interpPoints.map((pt, i) => /*#__PURE__*/_jsxDEV(CircleMarker, {\n              center: [pt.latitude, pt.longitude],\n              radius: 6,\n              pathOptions: {\n                color: '#0077b6',\n                fillColor: '#00b4d8',\n                fillOpacity: 0.9\n              },\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    minWidth: 180\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Interpolated\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 30\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"muted\",\n                    children: [\"Nearest: \", pt.nearest_location || '—']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    style: {\n                      marginTop: 6\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [\"pH: \", pt['pH']]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [\"DO: \", pt['DO (mg/L)']]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 21\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), route !== 'home' && /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"detail-panel\",\n        style: {\n          width: 360\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: 8,\n            padding: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setRoute('home'),\n            className: \"small\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setRoute('interpolate'),\n            className: \"small primary\",\n            children: \"Interpolate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-calendar\",\n          children: /*#__PURE__*/_jsxDEV(Calendar, {\n            date: selectedDate,\n            onChange: d => setSelectedDate(d)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), route === 'interpolate' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"controls-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectMode(selectMode === 'start' ? null : 'start'),\n              className: selectMode === 'start' ? 'active' : '',\n              children: \"Pick Start\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectMode(selectMode === 'end' ? null : 'end'),\n              className: selectMode === 'end' ? 'active' : '',\n              children: \"Pick End\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectMode(null);\n                setInterpPoints([]);\n                setStartPoint(null);\n                setEndPoint(null);\n              },\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Points k: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: 1,\n                max: 50,\n                value: sampleCount,\n                onChange: e => setSampleCount(Number(e.target.value)),\n                style: {\n                  width: 80,\n                  marginLeft: 8\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Start: \", startPoint ? `${startPoint.latitude.toFixed(5)}, ${startPoint.longitude.toFixed(5)}` : '—']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"End: \", endPoint ? `${endPoint.latitude.toFixed(5)}, ${endPoint.longitude.toFixed(5)}` : '—']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: performInterpolation,\n              children: \"Interpolate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-date\",\n            children: [\"Selected date: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: new Date(selectedDate).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 59\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), selected ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: cleanQualityString(selected.name)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"muted\",\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `river-tag ${cleanQualityString(selected.river).replace(/\\s+/g, '-').toLowerCase()}`,\n                  children: cleanQualityString(selected.river)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 24\n                }, this), \" \\u2022 \", selected.description]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this), selected.prediction ? (() => {\n                const entries = canonicalizePredictionEntries(selected.prediction);\n                const overall = entries.find(([k]) => String(k).toLowerCase() === 'water quality');\n                if (overall) {\n                  const s = getParameterStatus('Water Quality', overall[1]);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `badge ${s ? s.cls : 'status-na'}`,\n                    children: cleanQualityString(String(overall[1]))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 30\n                  }, this);\n                }\n                return null;\n              })() : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                marginTop: 8\n              },\n              children: \"Prediction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this), selected.prediction ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: canonicalizePredictionEntries(selected.prediction).filter(([k]) => {\n                const key = String(k).toLowerCase();\n                return !['location', 'location_name', 'river', 'month', 'year', 'id', 'water quality'].includes(key);\n              }).map(([k, v]) => {\n                const value = formatValue(k, v);\n                const s = getParameterStatus(k, v);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inline-param-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"label\",\n                    children: k\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"value\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"val-text\",\n                      children: value\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 52\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `badge ${s.cls}`,\n                      children: s.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 91\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 29\n                  }, this)]\n                }, k, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 27\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"placeholder\",\n            style: {\n              marginTop: 12\n            },\n            children: \"Select a location on the map to see details here.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n}\n_s3(App, \"eLPDTZx3ExnXMiJ/O9U/CvYaXdQ=\");\n_c3 = App;\nfunction formatValue(key, value) {\n  if (value === null || value === undefined) return '—';\n  const n = Number(value);\n  if (!Number.isNaN(n)) {\n    if (/pH/i.test(key)) return n.toFixed(2);\n    if (/DO|BOD|FC|TC|MPN/i.test(key)) return n.toFixed(2);\n    return String(n);\n  }\n  return String(value);\n}\nfunction cleanQualityString(quality) {\n  if (quality === null || quality === undefined) return quality;\n  let s = String(quality).trim();\n  if (!s) return s;\n  // normalize whitespace\n  s = s.replace(/\\s+/g, ' ');\n  // remove duplicated trailing punctuation and normalize\n  s = s.replace(/[\\s\\-–_:;,.]+$/g, '').trim();\n  // collapse exact repeated phrases like \"X X\" or \"X X X\" -> \"X\"\n  const m = s.match(/^(.*?)\\s+(?:\\1\\s+)*\\1$/i);\n  if (m && m[1]) return m[1].trim();\n  // fallback: if full-string repeated twice (older regex)\n  const m2 = s.match(/^(.*)\\s+\\1$/i);\n  return m2 ? m2[1].trim() : s;\n}\nfunction canonicalizePredictionEntries(pred) {\n  // returns array of [key, value] with keys normalized and duplicates collapsed (last value wins)\n  if (!pred || typeof pred !== 'object') return [];\n  const map = new Map();\n  for (const [k, v] of Object.entries(pred)) {\n    const key = String(k).trim();\n    const norm = key.toLowerCase().replace(/\\s+/g, ' ');\n    // map some common aliases\n    const canonical = norm === 'water quality' ? 'water quality' : norm;\n    map.set(canonical, {\n      key: key,\n      value: v\n    });\n  }\n  // return in insertion order but using original key casing for display\n  return Array.from(map.values()).map(x => [x.key, x.value]);\n}\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Calendar\");\n$RefreshReg$(_c2, \"MapClickHandler\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","MapContainer","TileLayer","Marker","Popup","CircleMarker","useMapEvents","L","FaWater","puneLocations","puneCenter","getRiverColor","riverPaths","preSampledRiver","riverDescriptions","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","Calendar","date","onChange","_s","base","Date","viewMonth","setViewMonth","getMonth","viewYear","setViewYear","getFullYear","d","startOfMonth","y","m","daysInMonth","getDate","weeks","firstDay","getDay","leading","total","rows","Math","ceil","day","r","week","c","cellDate","push","monthName","toLocaleString","undefined","month","monthNames","Array","from","length","_","i","getYearOptions","center","cy","start","min","end","max","arr","selectDate","iso","String","padStart","selected","className","style","padding","children","display","justifyContent","alignItems","gap","onClick","v","fileName","_jsxFileName","lineNumber","columnNumber","value","e","Number","target","borderRadius","map","mn","idx","td","title","gridTemplateColumns","marginTop","color","fontSize","fontWeight","textAlign","marginBottom","inMonth","isSelected","border","background","cursor","toISOString","_c","MapClickHandler","onMapClick","_s2","click","latitude","latlng","lat","longitude","lng","_c2","getParameterStatus","key","s","toLowerCase","includes","label","cls","isNaN","App","_s3","route","setRoute","predictions","setPredictions","setSelected","interpPoints","setInterpPoints","sampleCount","setSampleCount","selectMode","setSelectMode","startPoint","setStartPoint","endPoint","setEndPoint","mapInst","setMapInst","selectedDate","setSelectedDate","slice","split","mounted","res","fetch","body","json","byId","item","loc","find","l","id","name","location","location_name","values","err","handleMapClick","pt","handleMarkerClick","pred","prev","prediction","performInterpolation","alert","nearestIndex","best","bestD","Infinity","dlat","dlng","d2","si","ei","a","b","sub","locations","points","year","pick_from_input","method","headers","JSON","stringify","jb","error","flex","size","height","zoom","whenCreated","url","entries","canonicalizePredictionEntries","overallEntry","k","overallValue","cleanQualityString","overallStatus","coordinate","pathOptions","river","fillColor","fillOpacity","radius","eventHandlers","minWidth","replace","filter","formatValue","marginLeft","position","nearest_location","width","type","toFixed","toLocaleDateString","description","overall","_c3","n","test","quality","trim","match","m2","Map","Object","norm","canonical","set","x","$RefreshReg$"],"sources":["F:/Download/pph/web/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, CircleMarker, useMapEvents } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { FaWater } from 'react-icons/fa';\r\n\r\nimport { puneLocations, puneCenter, getRiverColor, riverPaths, preSampledRiver, riverDescriptions } from './locations';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:8000';\r\n\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\r\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\r\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\r\n});\r\n\r\nfunction Calendar({ date, onChange }) {\r\n  // full month grid calendar (always visible in sidebar)\r\n  const base = date ? new Date(date) : new Date();\r\n  const [viewMonth, setViewMonth] = React.useState(base.getMonth());\r\n  const [viewYear, setViewYear] = React.useState(base.getFullYear());\r\n\r\n  React.useEffect(() => {\r\n    const d = date ? new Date(date) : new Date();\r\n    setViewMonth(d.getMonth());\r\n    setViewYear(d.getFullYear());\r\n  }, [date]);\r\n\r\n  const startOfMonth = (y, m) => new Date(y, m, 1);\r\n  const daysInMonth = (y, m) => new Date(y, m + 1, 0).getDate();\r\n\r\n  const weeks = [];\r\n  const firstDay = startOfMonth(viewYear, viewMonth).getDay(); // 0=Sun\r\n  const leading = (firstDay + 6) % 7; // shift to Monday first (0=Mon)\r\n  const total = leading + daysInMonth(viewYear, viewMonth);\r\n  const rows = Math.ceil(total / 7);\r\n\r\n  let day = 1 - leading;\r\n  for (let r = 0; r < rows; r++) {\r\n    const week = [];\r\n    for (let c = 0; c < 7; c++, day++) {\r\n      const cellDate = new Date(viewYear, viewMonth, day);\r\n      week.push(cellDate);\r\n    }\r\n    weeks.push(week);\r\n  }\r\n\r\n  const monthName = new Date(viewYear, viewMonth).toLocaleString(undefined, { month: 'long' });\r\n  const monthNames = Array.from({length:12}, (_,i)=> new Date(2000, i).toLocaleString(undefined, { month: 'long' }));\r\n  const getYearOptions = (center) => {\r\n    const cy = (new Date()).getFullYear();\r\n    const start = Math.min(center - 5, cy - 5);\r\n    const end = Math.max(center + 5, cy + 5);\r\n    const arr = [];\r\n    for (let y = start; y <= end; y++) arr.push(y);\r\n    return arr;\r\n  };\r\n\r\n  const selectDate = (d) => {\r\n    const iso = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\r\n    onChange && onChange(iso);\r\n  };\r\n\r\n  const selected = date ? new Date(date) : null;\r\n\r\n  return (\r\n    <div className=\"inline-calendar\" style={{padding:8}}>\r\n      <div className=\"cal-head\" style={{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'6px 4px',gap:8}}>\r\n        <button className=\"small\" onClick={() => { const m = viewMonth - 1; if (m < 0) { setViewYear(v => v - 1); setViewMonth(11); } else setViewMonth(m); }}>{'◀'}</button>\r\n\r\n  <div style={{display:'flex',alignItems:'center',gap:8}}>\r\n          <select value={viewMonth} onChange={e=>setViewMonth(Number(e.target.value))} style={{padding:6,borderRadius:6}} aria-label=\"Select month\">\r\n            {monthNames.map((mn,idx)=> <option key={mn} value={idx}>{mn}</option>)}\r\n          </select>\r\n\r\n          <select value={viewYear} onChange={e=>setViewYear(Number(e.target.value))} style={{padding:6,borderRadius:6}} aria-label=\"Select year\">\r\n            {getYearOptions(viewYear).map(y => <option key={y} value={y}>{y}</option>)}\r\n          </select>\r\n        </div>\r\n\r\n        <div style={{display:'flex',alignItems:'center',gap:8}}>\r\n          <button className=\"small\" onClick={() => { const m = viewMonth + 1; if (m > 11) { setViewYear(v => v + 1); setViewMonth(0); } else setViewMonth(m); }}>{'▶'}</button>\r\n          <button className=\"small\" onClick={() => {\r\n            const td = new Date();\r\n            const iso = `${td.getFullYear()}-${String(td.getMonth() + 1).padStart(2, '0')}-${String(td.getDate()).padStart(2, '0')}`;\r\n            setViewMonth(td.getMonth());\r\n            setViewYear(td.getFullYear());\r\n            onChange && onChange(iso);\r\n          }} title=\"Jump to today\">Today</button>\r\n        </div>\r\n      </div>\r\n      <div style={{display:'grid',gridTemplateColumns:'repeat(7,1fr)',gap:4,marginTop:8,color:'#64748b',fontSize:12,fontWeight:700,textAlign:'center'}}>\r\n        {['Mo','Tu','We','Th','Fr','Sa','Su'].map(d=> <div key={d}>{d}</div>)}\r\n      </div>\r\n      <div style={{marginTop:8}}>\r\n        {weeks.map((week, i) => (\r\n          <div key={i} style={{display:'grid',gridTemplateColumns:'repeat(7,1fr)',gap:4,marginBottom:4}}>\r\n            {week.map((d) => {\r\n              const inMonth = d.getMonth() === viewMonth;\r\n              const isSelected = selected && d.getFullYear() === selected.getFullYear() && d.getMonth() === selected.getMonth() && d.getDate() === selected.getDate();\r\n              return (\r\n                <button\r\n                  key={d.toISOString()}\r\n                  onClick={() => inMonth && selectDate(d)}\r\n                  style={{\r\n                    padding:10,\r\n                    borderRadius:6,\r\n                    border:'none',\r\n                    background: isSelected ? 'var(--primary)' : (inMonth ? '#f8fafc' : 'transparent'),\r\n                    color: isSelected ? '#fff' : (inMonth ? '#0b3b52' : '#94a3b8'),\r\n                    cursor: inMonth ? 'pointer' : 'default'\r\n                  }}\r\n                >{d.getDate()}</button>\r\n              );\r\n            })}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MapClickHandler({ onMapClick }) {\r\n  useMapEvents({ click: (e) => onMapClick && onMapClick({ latitude: e.latlng.lat, longitude: e.latlng.lng }) });\r\n  return null;\r\n}\r\n\r\nfunction getParameterStatus(key, value) {\r\n  // value may be numeric or string; handle Water Quality specially\r\n  if (key === 'Water Quality') {\r\n    const s = String(value || '').toLowerCase();\r\n    if (s.includes('non')) return { label: 'Non Complying', cls: 'status-poor' };\r\n    if (s.includes('comp')) return { label: 'Complying', cls: 'status-good' };\r\n    return { label: String(value || ''), cls: 'status-na' };\r\n  }\r\n\r\n  const v = Number(value);\r\n  switch (key) {\r\n    case 'pH':\r\n      if (v >= 6.5 && v <= 8.5) return { label: 'Good', cls: 'status-good' };\r\n      if (v >= 6.0 && v <= 9.0) return { label: 'Moderate', cls: 'status-moderate' };\r\n      return { label: 'Poor', cls: 'status-poor' };\r\n    case 'DO (mg/L)':\r\n    case 'DO':\r\n      if (v >= 5.0) return { label: 'Good', cls: 'status-good' };\r\n      if (v >= 3.0) return { label: 'Moderate', cls: 'status-moderate' };\r\n      return { label: 'Poor', cls: 'status-poor' };\r\n    case 'BOD (mg/L)':\r\n    case 'BOD':\r\n      if (v <= 3.0) return { label: 'Good', cls: 'status-good' };\r\n      if (v <= 6.0) return { label: 'Moderate', cls: 'status-moderate' };\r\n      return { label: 'Poor', cls: 'status-poor' };\r\n    case 'FC MPN/100ml':\r\n    case 'TC MPN/100ml':\r\n    case 'FC':\r\n    case 'TC':\r\n      if (isNaN(v)) return { label: String(value), cls: 'status-na' };\r\n      if (v < 500) return { label: 'Good', cls: 'status-good' };\r\n      if (v <= 1000) return { label: 'Moderate', cls: 'status-moderate' };\r\n      return { label: 'Poor', cls: 'status-poor' };\r\n    default:\r\n      return { label: String(value), cls: 'status-na' };\r\n  }\r\n}\r\n\r\nexport default function App() {\r\n  const [route, setRoute] = useState('home');\r\n  const [predictions, setPredictions] = useState({});\r\n  const [selected, setSelected] = useState(null);\r\n  const [interpPoints, setInterpPoints] = useState([]);\r\n  const [sampleCount, setSampleCount] = useState(5);\r\n  const [selectMode, setSelectMode] = useState(null);\r\n  const [startPoint, setStartPoint] = useState(null);\r\n  const [endPoint, setEndPoint] = useState(null);\r\n  const [mapInst, setMapInst] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(() => {\r\n    const d = new Date();\r\n    return `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`;\r\n  });\r\n\r\n  // fetch predictions for month/year whenever date changes\r\n  useEffect(() => {\r\n    const [y, m] = selectedDate.slice(0,7).split('-').map(Number);\r\n    let mounted = true;\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(`${API_BASE}/predict_all?month=${m}&year=${y}`);\r\n        const body = await res.json();\r\n        const byId = {};\r\n        for (const item of (body.predictions || [])) {\r\n          // try match by id or location name\r\n          const loc = puneLocations.find(l => l.id === item.id || l.name === item.location || l.name === item.location_name);\r\n          if (loc) byId[loc.id] = item.values || item;\r\n        }\r\n        if (mounted) setPredictions(byId);\r\n      } catch (err) {\r\n        // ignore\r\n      }\r\n    })();\r\n    return () => { mounted = false; };\r\n  }, [selectedDate]);\r\n\r\n  const handleMapClick = useCallback((pt) => {\r\n    if (selectMode === 'start') setStartPoint(pt);\r\n    else if (selectMode === 'end') setEndPoint(pt);\r\n  }, [selectMode]);\r\n\r\n  const handleMarkerClick = (loc) => {\r\n    setSelected(loc);\r\n    // attach available prediction\r\n    const pred = predictions[loc.id] || null;\r\n    setSelected(prev => ({...loc, prediction: pred}));\r\n  };\r\n\r\n  const performInterpolation = async () => {\r\n    if (!startPoint || !endPoint) return alert('Pick start and end');\r\n    // find nearest indices in preSampledRiver\r\n    const nearestIndex = (pt) => {\r\n      let best = 0, bestD = Infinity;\r\n      for (let i=0;i<preSampledRiver.length;i++){\r\n        const dlat = preSampledRiver[i].latitude - pt.latitude;\r\n        const dlng = preSampledRiver[i].longitude - pt.longitude;\r\n        const d2 = dlat*dlat + dlng*dlng;\r\n        if (d2 < bestD){ bestD = d2; best = i; }\r\n      }\r\n      return best;\r\n    };\r\n    const si = nearestIndex(startPoint), ei = nearestIndex(endPoint);\r\n    const a = Math.min(si, ei), b = Math.max(si, ei);\r\n    const sub = preSampledRiver.slice(a, b+1);\r\n    const d = new Date(selectedDate);\r\n    const body = { locations: sub, points: sampleCount, month: d.getMonth()+1, year: d.getFullYear(), pick_from_input: true };\r\n    try {\r\n      const res = await fetch(`${API_BASE}/interpolate_predict`, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body) });\r\n      const jb = await res.json();\r\n      if (jb.error) return alert('Server: '+jb.error);\r\n      setInterpPoints(jb.predictions || []);\r\n    } catch (err) { alert('Request failed'); }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <main className=\"main\" style={{display:'flex', gap:20}}>\r\n        <div style={{flex:1}}>\r\n          {route === 'home' ? (\r\n            <div className=\"home-page\">\r\n              <div className=\"home-card\">\r\n                <div className=\"home-hero\">\r\n                  <div className=\"logo\"><FaWater size={28} color=\"#fff\" /></div>\r\n                  <div>\r\n                    <h1>RiverWatch — Pune Rivers</h1>\r\n                    <p className=\"muted\">Water quality predictions for Pune rivers</p>\r\n                  </div>\r\n                </div>\r\n                <p>Explore predicted water quality across the Mula, Mutha and Mula-Mutha rivers. Use Predict for single-point queries and Interpolate to sample between two points.</p>\r\n                <div className=\"columns\">\r\n                  <div className=\"col rivers\">\r\n                    <h3>Rivers</h3>\r\n                    <div className=\"river-item\">\r\n                      <span className=\"river-name river-mula\">Mula</span>\r\n                      <div className=\"river-desc\">{(riverDescriptions['Mula'] || '').split('. ')[0]}.</div>\r\n                    </div>\r\n                    <div className=\"river-item\">\r\n                      <span className=\"river-name river-mutha\">Mutha</span>\r\n                      <div className=\"river-desc\">{(riverDescriptions['Mutha'] || '').split('. ')[0]}.</div>\r\n                    </div>\r\n                    <div className=\"river-item\">\r\n                      <span className=\"river-name river-mula-mutha\">Mula-Mutha</span>\r\n                      <div className=\"river-desc\">{(riverDescriptions['Mula-Mutha'] || '').split('. ')[0]}.</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col center\">\r\n                    <h3>About</h3>\r\n                    <p>This site reproduces the mobile water-quality model and exposes the same prediction logic on the web. It runs the trained model server-side and offers interpolation that follows river polylines so you can sample predicted values between two points. Use the map to select monitoring sites, compare parameter compliance across locations, and run multi-point interpolation to see spatial patterns for pH, dissolved oxygen, BOD and bacterial indicators across the river network.</p>\r\n                  </div>\r\n                  <div className=\"col params\">\r\n                    <h3>Parameters</h3>\r\n                    <ul className=\"param-names\">\r\n                      <li><strong>pH</strong> <div className=\"desc\">Measures water acidity and alkalinity on a scale of 0-14, with 7 being neutral. Deviations indicate pollution from industrial discharge or organic decomposition affecting aquatic life.</div></li>\r\n                      <li><strong>DO</strong> <div className=\"desc\">Dissolved oxygen levels in milligrams per liter, essential for fish and aquatic organisms. Low DO levels signal organic pollution and eutrophication from sewage or agricultural runoff.</div></li>\r\n                      <li><strong>BOD</strong> <div className=\"desc\">Biological oxygen demand measures oxygen consumed by microorganisms breaking down organic matter. High BOD indicates sewage contamination and reduces available oxygen for aquatic life.</div></li>\r\n                      <li><strong>FC/TC</strong> <div className=\"desc\">Fecal and total coliform bacteria counts per 100ml, indicating sewage contamination and potential health risks. High levels suggest inadequate wastewater treatment and pose serious public health concerns.</div></li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div className=\"home-cta\">\r\n                  <button onClick={() => setRoute('predict')}>Go to Predict</button>\r\n                  <button className=\"secondary\" onClick={() => setRoute('interpolate')}>Go to Interpolate</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"main-content\" style={{height: 'calc(100vh - 36px)'}}>\r\n              <MapContainer center={[puneCenter.latitude, puneCenter.longitude]} zoom={puneCenter.zoom} className=\"map\" whenCreated={m=>setMapInst(m)} style={{height:'100%'}}>\r\n                <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                <MapClickHandler onMapClick={handleMapClick} />\r\n                {puneLocations.map(loc => {\r\n                  const pred = predictions[loc.id] || null;\r\n                  const entries = pred ? canonicalizePredictionEntries(pred) : [];\r\n                  const overallEntry = entries.find(([k]) => String(k).toLowerCase() === 'water quality');\r\n                  const overallValue = overallEntry ? cleanQualityString(String(overallEntry[1])) : null;\r\n                  const overallStatus = overallEntry ? getParameterStatus('Water Quality', overallEntry[1]) : null;\r\n\r\n                  return (\r\n                    <CircleMarker key={loc.id} center={[loc.coordinate.latitude, loc.coordinate.longitude]} pathOptions={{ color: getRiverColor(loc.river), fillColor: getRiverColor(loc.river), fillOpacity:0.9 }} radius={8} eventHandlers={{ click: () => handleMarkerClick(loc) }}>\r\n                      <Popup>\r\n                        <div className=\"popup-card\" style={{minWidth:260}}>\r\n                          <div className=\"popup-header\">\r\n                            <div>\r\n                              <div className=\"popup-title\">{cleanQualityString(loc.name)}</div>\r\n                              <div className=\"popup-sub muted\" style={{display:'flex',gap:8,alignItems:'center',marginTop:8}}>\r\n                                <span className={`river-tag ${cleanQualityString(loc.river).replace(/\\s+/g, '-').toLowerCase()}`}>{cleanQualityString(loc.river)}</span>\r\n                                {overallValue ? <div className={`badge ${overallStatus ? overallStatus.cls : 'status-na'}`}>{overallValue}</div> : null}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {pred ? (\r\n                            <div className=\"popup-grid\">\r\n                              {entries\r\n                                .filter(([k]) => {\r\n                                  const key = String(k).toLowerCase();\r\n                                  return !['location','location_name','river','month','year','id','water quality'].includes(key);\r\n                                })\r\n                                .map(([k,v]) => {\r\n                                  const value = formatValue(k, v);\r\n                                  const s = getParameterStatus(k, v);\r\n                                  return (\r\n                                    <div className=\"param-row\" key={k}>\r\n                                      <div className=\"param-name\">{k}</div>\r\n                                      <div className=\"param-value\">\r\n                                        <span className=\"val-text\">{value}</span>\r\n                                        <span className={`badge ${s.cls}`} style={{marginLeft:8}}>{s.label}</span>\r\n                                      </div>\r\n                                    </div>\r\n                                  );\r\n                                })}\r\n                            </div>\r\n                          ) : <div style={{marginTop:8}}>Loading...</div>}\r\n                        </div>\r\n                      </Popup>\r\n                    </CircleMarker>\r\n                  );\r\n                })}\r\n                {route === 'interpolate' && startPoint ? <Marker position={[startPoint.latitude, startPoint.longitude]}><Popup>Start</Popup></Marker> : null}\r\n                {route === 'interpolate' && endPoint ? <Marker position={[endPoint.latitude, endPoint.longitude]}><Popup>End</Popup></Marker> : null}\r\n                {route === 'interpolate' && interpPoints.map((pt, i) => (\r\n                  <CircleMarker key={i} center={[pt.latitude, pt.longitude]} radius={6} pathOptions={{color:'#0077b6', fillColor:'#00b4d8', fillOpacity:0.9}}>\r\n                    <Popup>\r\n                      <div style={{minWidth:180}}>\r\n                        <div><strong>Interpolated</strong></div>\r\n                        <div className=\"muted\">Nearest: {pt.nearest_location || '—'}</div>\r\n                        <ul style={{marginTop:6}}>\r\n                          <li>pH: {pt['pH']}</li>\r\n                          <li>DO: {pt['DO (mg/L)']}</li>\r\n                        </ul>\r\n                      </div>\r\n                    </Popup>\r\n                  </CircleMarker>\r\n                ))}\r\n              </MapContainer>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* right sidebar: show only on inner pages (not on Home) */}\r\n        {route !== 'home' && (\r\n          <aside className=\"detail-panel\" style={{width:360}}>\r\n          <div style={{display:'flex', justifyContent:'flex-end', gap:8, padding:8}}>\r\n            <button onClick={()=>setRoute('home')} className=\"small\">Home</button>\r\n            <button onClick={()=>setRoute('interpolate')} className=\"small primary\">Interpolate</button>\r\n          </div>\r\n          <div className=\"detail-calendar\">\r\n            <Calendar date={selectedDate} onChange={d=>setSelectedDate(d)} />\r\n          </div>\r\n\r\n          {route === 'interpolate' && (\r\n            <div style={{marginTop:12}}>\r\n              <div className=\"controls-row\">\r\n                <button onClick={()=>setSelectMode(selectMode==='start'?null:'start')} className={selectMode==='start'?'active':''}>Pick Start</button>\r\n                <button onClick={()=>setSelectMode(selectMode==='end'?null:'end')} className={selectMode==='end'?'active':''}>Pick End</button>\r\n                <button onClick={()=>{ setSelectMode(null); setInterpPoints([]); setStartPoint(null); setEndPoint(null); }}>Reset</button>\r\n              </div>\r\n              <div style={{marginTop:8}}>\r\n                <label>Points k: <input type=\"number\" min={1} max={50} value={sampleCount} onChange={e=>setSampleCount(Number(e.target.value))} style={{width:80, marginLeft:8}}/></label>\r\n              </div>\r\n              <div style={{marginTop:8}}>\r\n                <div>Start: {startPoint?`${startPoint.latitude.toFixed(5)}, ${startPoint.longitude.toFixed(5)}`:'—'}</div>\r\n                <div>End: {endPoint?`${endPoint.latitude.toFixed(5)}, ${endPoint.longitude.toFixed(5)}`:'—'}</div>\r\n              </div>\r\n              <div style={{marginTop:8}}>\r\n                <button onClick={performInterpolation}>Interpolate</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{marginTop:16}}>\r\n            <div className=\"selected-date\">Selected date: <strong>{new Date(selectedDate).toLocaleDateString()}</strong></div>\r\n                {selected ? (\r\n              <div style={{marginTop:12}}>\r\n                <h3>{cleanQualityString(selected.name)}</h3>\r\n                <div className=\"muted\" style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\r\n                  <div><span className={`river-tag ${cleanQualityString(selected.river).replace(/\\s+/g, '-').toLowerCase()}`}>{cleanQualityString(selected.river)}</span> • {selected.description}</div>\r\n                  {selected.prediction ? (() => {\r\n                    const entries = canonicalizePredictionEntries(selected.prediction);\r\n                    const overall = entries.find(([k]) => String(k).toLowerCase() === 'water quality');\r\n                    if (overall) {\r\n                      const s = getParameterStatus('Water Quality', overall[1]);\r\n                      return <div className={`badge ${s ? s.cls : 'status-na'}`}>{cleanQualityString(String(overall[1]))}</div>;\r\n                    }\r\n                    return null;\r\n                  })() : null}\r\n                </div>\r\n                <h4 style={{marginTop:8}}>Prediction</h4>\r\n                {selected.prediction ? (\r\n                  <div>\r\n                    {canonicalizePredictionEntries(selected.prediction)\r\n                      .filter(([k]) => {\r\n                        const key = String(k).toLowerCase();\r\n                        return !['location','location_name','river','month','year','id','water quality'].includes(key);\r\n                      })\r\n                      .map(([k,v])=>{\r\n                        const value = formatValue(k, v);\r\n                        const s = getParameterStatus(k,v);\r\n                        return (\r\n                          <div key={k} className=\"inline-param-row\">\r\n                            <div className=\"label\">{k}</div>\r\n                            <div className=\"value\"><div className=\"val-text\">{value}</div><div className={`badge ${s.cls}`}>{s.label}</div></div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                ) : <div>Loading...</div>}\r\n              </div>\r\n            ) : (\r\n              <div className=\"placeholder\" style={{marginTop:12}}>Select a location on the map to see details here.</div>\r\n            )}\r\n          </div>\r\n          </aside>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction formatValue(key, value) {\r\n  if (value === null || value === undefined) return '—';\r\n  const n = Number(value);\r\n  if (!Number.isNaN(n)) {\r\n    if (/pH/i.test(key)) return n.toFixed(2);\r\n    if (/DO|BOD|FC|TC|MPN/i.test(key)) return n.toFixed(2);\r\n    return String(n);\r\n  }\r\n  return String(value);\r\n}\r\n\r\nfunction cleanQualityString(quality) {\r\n  if (quality === null || quality === undefined) return quality;\r\n  let s = String(quality).trim();\r\n  if (!s) return s;\r\n  // normalize whitespace\r\n  s = s.replace(/\\s+/g, ' ');\r\n  // remove duplicated trailing punctuation and normalize\r\n  s = s.replace(/[\\s\\-–_:;,.]+$/g, '').trim();\r\n  // collapse exact repeated phrases like \"X X\" or \"X X X\" -> \"X\"\r\n  const m = s.match(/^(.*?)\\s+(?:\\1\\s+)*\\1$/i);\r\n  if (m && m[1]) return m[1].trim();\r\n  // fallback: if full-string repeated twice (older regex)\r\n  const m2 = s.match(/^(.*)\\s+\\1$/i);\r\n  return m2 ? m2[1].trim() : s;\r\n}\r\n\r\nfunction canonicalizePredictionEntries(pred) {\r\n  // returns array of [key, value] with keys normalized and duplicates collapsed (last value wins)\r\n  if (!pred || typeof pred !== 'object') return [];\r\n  const map = new Map();\r\n  for (const [k, v] of Object.entries(pred)) {\r\n    const key = String(k).trim();\r\n    const norm = key.toLowerCase().replace(/\\s+/g, ' ');\r\n    // map some common aliases\r\n    const canonical = norm === 'water quality' ? 'water quality' : norm;\r\n    map.set(canonical, { key: key, value: v });\r\n  }\r\n  // return in insertion order but using original key casing for display\r\n  return Array.from(map.values()).map(x => [x.key, x.value]);\r\n}"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,YAAY,EAAEC,YAAY,QAAQ,eAAe;AAClG,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;AACjC,SAASC,OAAO,QAAQ,gBAAgB;AAExC,SAASC,aAAa,EAAEC,UAAU,EAAEC,aAAa,EAAEC,UAAU,EAAEC,eAAe,EAAEC,iBAAiB,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvH,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAAI,uBAAuB;AAE1E,OAAOb,CAAC,CAACc,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CjB,CAAC,CAACc,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAE,gEAAgE;EAC/EC,OAAO,EAAE,6DAA6D;EACtEC,SAAS,EAAE;AACb,CAAC,CAAC;AAEF,SAASC,QAAQA,CAAC;EAAEC,IAAI;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACpC;EACA,MAAMC,IAAI,GAAGH,IAAI,GAAG,IAAII,IAAI,CAACJ,IAAI,CAAC,GAAG,IAAII,IAAI,CAAC,CAAC;EAC/C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGvC,KAAK,CAACE,QAAQ,CAACkC,IAAI,CAACI,QAAQ,CAAC,CAAC,CAAC;EACjE,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG1C,KAAK,CAACE,QAAQ,CAACkC,IAAI,CAACO,WAAW,CAAC,CAAC,CAAC;EAElE3C,KAAK,CAACC,SAAS,CAAC,MAAM;IACpB,MAAM2C,CAAC,GAAGX,IAAI,GAAG,IAAII,IAAI,CAACJ,IAAI,CAAC,GAAG,IAAII,IAAI,CAAC,CAAC;IAC5CE,YAAY,CAACK,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAAC;IAC1BE,WAAW,CAACE,CAAC,CAACD,WAAW,CAAC,CAAC,CAAC;EAC9B,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;EAEV,MAAMY,YAAY,GAAGA,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIV,IAAI,CAACS,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC;EAChD,MAAMC,WAAW,GAAGA,CAACF,CAAC,EAAEC,CAAC,KAAK,IAAIV,IAAI,CAACS,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC;EAE7D,MAAMC,KAAK,GAAG,EAAE;EAChB,MAAMC,QAAQ,GAAGN,YAAY,CAACJ,QAAQ,EAAEH,SAAS,CAAC,CAACc,MAAM,CAAC,CAAC,CAAC,CAAC;EAC7D,MAAMC,OAAO,GAAG,CAACF,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;EACpC,MAAMG,KAAK,GAAGD,OAAO,GAAGL,WAAW,CAACP,QAAQ,EAAEH,SAAS,CAAC;EACxD,MAAMiB,IAAI,GAAGC,IAAI,CAACC,IAAI,CAACH,KAAK,GAAG,CAAC,CAAC;EAEjC,IAAII,GAAG,GAAG,CAAC,GAAGL,OAAO;EACrB,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,IAAI,EAAEI,CAAC,EAAE,EAAE;IAC7B,MAAMC,IAAI,GAAG,EAAE;IACf,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAEH,GAAG,EAAE,EAAE;MACjC,MAAMI,QAAQ,GAAG,IAAIzB,IAAI,CAACI,QAAQ,EAAEH,SAAS,EAAEoB,GAAG,CAAC;MACnDE,IAAI,CAACG,IAAI,CAACD,QAAQ,CAAC;IACrB;IACAZ,KAAK,CAACa,IAAI,CAACH,IAAI,CAAC;EAClB;EAEA,MAAMI,SAAS,GAAG,IAAI3B,IAAI,CAACI,QAAQ,EAAEH,SAAS,CAAC,CAAC2B,cAAc,CAACC,SAAS,EAAE;IAAEC,KAAK,EAAE;EAAO,CAAC,CAAC;EAC5F,MAAMC,UAAU,GAAGC,KAAK,CAACC,IAAI,CAAC;IAACC,MAAM,EAAC;EAAE,CAAC,EAAE,CAACC,CAAC,EAACC,CAAC,KAAI,IAAIpC,IAAI,CAAC,IAAI,EAAEoC,CAAC,CAAC,CAACR,cAAc,CAACC,SAAS,EAAE;IAAEC,KAAK,EAAE;EAAO,CAAC,CAAC,CAAC;EAClH,MAAMO,cAAc,GAAIC,MAAM,IAAK;IACjC,MAAMC,EAAE,GAAI,IAAIvC,IAAI,CAAC,CAAC,CAAEM,WAAW,CAAC,CAAC;IACrC,MAAMkC,KAAK,GAAGrB,IAAI,CAACsB,GAAG,CAACH,MAAM,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,CAAC;IAC1C,MAAMG,GAAG,GAAGvB,IAAI,CAACwB,GAAG,CAACL,MAAM,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,CAAC;IACxC,MAAMK,GAAG,GAAG,EAAE;IACd,KAAK,IAAInC,CAAC,GAAG+B,KAAK,EAAE/B,CAAC,IAAIiC,GAAG,EAAEjC,CAAC,EAAE,EAAEmC,GAAG,CAAClB,IAAI,CAACjB,CAAC,CAAC;IAC9C,OAAOmC,GAAG;EACZ,CAAC;EAED,MAAMC,UAAU,GAAItC,CAAC,IAAK;IACxB,MAAMuC,GAAG,GAAG,GAAGvC,CAAC,CAACD,WAAW,CAAC,CAAC,IAAIyC,MAAM,CAACxC,CAAC,CAACJ,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC6C,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAID,MAAM,CAACxC,CAAC,CAACK,OAAO,CAAC,CAAC,CAAC,CAACoC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;IACrHnD,QAAQ,IAAIA,QAAQ,CAACiD,GAAG,CAAC;EAC3B,CAAC;EAED,MAAMG,QAAQ,GAAGrD,IAAI,GAAG,IAAII,IAAI,CAACJ,IAAI,CAAC,GAAG,IAAI;EAE7C,oBACEd,OAAA;IAAKoE,SAAS,EAAC,iBAAiB;IAACC,KAAK,EAAE;MAACC,OAAO,EAAC;IAAC,CAAE;IAAAC,QAAA,gBAClDvE,OAAA;MAAKoE,SAAS,EAAC,UAAU;MAACC,KAAK,EAAE;QAACG,OAAO,EAAC,MAAM;QAACC,cAAc,EAAC,eAAe;QAACC,UAAU,EAAC,QAAQ;QAACJ,OAAO,EAAC,SAAS;QAACK,GAAG,EAAC;MAAC,CAAE;MAAAJ,QAAA,gBAC3HvE,OAAA;QAAQoE,SAAS,EAAC,OAAO;QAACQ,OAAO,EAAEA,CAAA,KAAM;UAAE,MAAMhD,CAAC,GAAGT,SAAS,GAAG,CAAC;UAAE,IAAIS,CAAC,GAAG,CAAC,EAAE;YAAEL,WAAW,CAACsD,CAAC,IAAIA,CAAC,GAAG,CAAC,CAAC;YAAEzD,YAAY,CAAC,EAAE,CAAC;UAAE,CAAC,MAAMA,YAAY,CAACQ,CAAC,CAAC;QAAE,CAAE;QAAA2C,QAAA,EAAE;MAAG;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,eAE3KjF,OAAA;QAAKqE,KAAK,EAAE;UAACG,OAAO,EAAC,MAAM;UAACE,UAAU,EAAC,QAAQ;UAACC,GAAG,EAAC;QAAC,CAAE;QAAAJ,QAAA,gBAC/CvE,OAAA;UAAQkF,KAAK,EAAE/D,SAAU;UAACJ,QAAQ,EAAEoE,CAAC,IAAE/D,YAAY,CAACgE,MAAM,CAACD,CAAC,CAACE,MAAM,CAACH,KAAK,CAAC,CAAE;UAACb,KAAK,EAAE;YAACC,OAAO,EAAC,CAAC;YAACgB,YAAY,EAAC;UAAC,CAAE;UAAC,cAAW,cAAc;UAAAf,QAAA,EACtItB,UAAU,CAACsC,GAAG,CAAC,CAACC,EAAE,EAACC,GAAG,kBAAIzF,OAAA;YAAiBkF,KAAK,EAAEO,GAAI;YAAAlB,QAAA,EAAEiB;UAAE,GAAnBA,EAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA0B,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChE,CAAC,eAETjF,OAAA;UAAQkF,KAAK,EAAE5D,QAAS;UAACP,QAAQ,EAAEoE,CAAC,IAAE5D,WAAW,CAAC6D,MAAM,CAACD,CAAC,CAACE,MAAM,CAACH,KAAK,CAAC,CAAE;UAACb,KAAK,EAAE;YAACC,OAAO,EAAC,CAAC;YAACgB,YAAY,EAAC;UAAC,CAAE;UAAC,cAAW,aAAa;UAAAf,QAAA,EACnIhB,cAAc,CAACjC,QAAQ,CAAC,CAACiE,GAAG,CAAC5D,CAAC,iBAAI3B,OAAA;YAAgBkF,KAAK,EAAEvD,CAAE;YAAA4C,QAAA,EAAE5C;UAAC,GAAfA,CAAC;YAAAmD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAuB,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENjF,OAAA;QAAKqE,KAAK,EAAE;UAACG,OAAO,EAAC,MAAM;UAACE,UAAU,EAAC,QAAQ;UAACC,GAAG,EAAC;QAAC,CAAE;QAAAJ,QAAA,gBACrDvE,OAAA;UAAQoE,SAAS,EAAC,OAAO;UAACQ,OAAO,EAAEA,CAAA,KAAM;YAAE,MAAMhD,CAAC,GAAGT,SAAS,GAAG,CAAC;YAAE,IAAIS,CAAC,GAAG,EAAE,EAAE;cAAEL,WAAW,CAACsD,CAAC,IAAIA,CAAC,GAAG,CAAC,CAAC;cAAEzD,YAAY,CAAC,CAAC,CAAC;YAAE,CAAC,MAAMA,YAAY,CAACQ,CAAC,CAAC;UAAE,CAAE;UAAA2C,QAAA,EAAE;QAAG;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,eACrKjF,OAAA;UAAQoE,SAAS,EAAC,OAAO;UAACQ,OAAO,EAAEA,CAAA,KAAM;YACvC,MAAMc,EAAE,GAAG,IAAIxE,IAAI,CAAC,CAAC;YACrB,MAAM8C,GAAG,GAAG,GAAG0B,EAAE,CAAClE,WAAW,CAAC,CAAC,IAAIyC,MAAM,CAACyB,EAAE,CAACrE,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC6C,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAID,MAAM,CAACyB,EAAE,CAAC5D,OAAO,CAAC,CAAC,CAAC,CAACoC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;YACxH9C,YAAY,CAACsE,EAAE,CAACrE,QAAQ,CAAC,CAAC,CAAC;YAC3BE,WAAW,CAACmE,EAAE,CAAClE,WAAW,CAAC,CAAC,CAAC;YAC7BT,QAAQ,IAAIA,QAAQ,CAACiD,GAAG,CAAC;UAC3B,CAAE;UAAC2B,KAAK,EAAC,eAAe;UAAApB,QAAA,EAAC;QAAK;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNjF,OAAA;MAAKqE,KAAK,EAAE;QAACG,OAAO,EAAC,MAAM;QAACoB,mBAAmB,EAAC,eAAe;QAACjB,GAAG,EAAC,CAAC;QAACkB,SAAS,EAAC,CAAC;QAACC,KAAK,EAAC,SAAS;QAACC,QAAQ,EAAC,EAAE;QAACC,UAAU,EAAC,GAAG;QAACC,SAAS,EAAC;MAAQ,CAAE;MAAA1B,QAAA,EAC9I,CAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC,CAACgB,GAAG,CAAC9D,CAAC,iBAAGzB,OAAA;QAAAuE,QAAA,EAAc9C;MAAC,GAALA,CAAC;QAAAqD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAU,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClE,CAAC,eACNjF,OAAA;MAAKqE,KAAK,EAAE;QAACwB,SAAS,EAAC;MAAC,CAAE;MAAAtB,QAAA,EACvBxC,KAAK,CAACwD,GAAG,CAAC,CAAC9C,IAAI,EAAEa,CAAC,kBACjBtD,OAAA;QAAaqE,KAAK,EAAE;UAACG,OAAO,EAAC,MAAM;UAACoB,mBAAmB,EAAC,eAAe;UAACjB,GAAG,EAAC,CAAC;UAACuB,YAAY,EAAC;QAAC,CAAE;QAAA3B,QAAA,EAC3F9B,IAAI,CAAC8C,GAAG,CAAE9D,CAAC,IAAK;UACf,MAAM0E,OAAO,GAAG1E,CAAC,CAACJ,QAAQ,CAAC,CAAC,KAAKF,SAAS;UAC1C,MAAMiF,UAAU,GAAGjC,QAAQ,IAAI1C,CAAC,CAACD,WAAW,CAAC,CAAC,KAAK2C,QAAQ,CAAC3C,WAAW,CAAC,CAAC,IAAIC,CAAC,CAACJ,QAAQ,CAAC,CAAC,KAAK8C,QAAQ,CAAC9C,QAAQ,CAAC,CAAC,IAAII,CAAC,CAACK,OAAO,CAAC,CAAC,KAAKqC,QAAQ,CAACrC,OAAO,CAAC,CAAC;UACvJ,oBACE9B,OAAA;YAEE4E,OAAO,EAAEA,CAAA,KAAMuB,OAAO,IAAIpC,UAAU,CAACtC,CAAC,CAAE;YACxC4C,KAAK,EAAE;cACLC,OAAO,EAAC,EAAE;cACVgB,YAAY,EAAC,CAAC;cACde,MAAM,EAAC,MAAM;cACbC,UAAU,EAAEF,UAAU,GAAG,gBAAgB,GAAID,OAAO,GAAG,SAAS,GAAG,aAAc;cACjFL,KAAK,EAAEM,UAAU,GAAG,MAAM,GAAID,OAAO,GAAG,SAAS,GAAG,SAAU;cAC9DI,MAAM,EAAEJ,OAAO,GAAG,SAAS,GAAG;YAChC,CAAE;YAAA5B,QAAA,EACF9C,CAAC,CAACK,OAAO,CAAC;UAAC,GAVNL,CAAC,CAAC+E,WAAW,CAAC,CAAC;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAUA,CAAC;QAE3B,CAAC;MAAC,GAlBM3B,CAAC;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAmBN,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACjE,EAAA,CAxGQH,QAAQ;AAAA4F,EAAA,GAAR5F,QAAQ;AA0GjB,SAAS6F,eAAeA,CAAC;EAAEC;AAAW,CAAC,EAAE;EAAAC,GAAA;EACvCtH,YAAY,CAAC;IAAEuH,KAAK,EAAG1B,CAAC,IAAKwB,UAAU,IAAIA,UAAU,CAAC;MAAEG,QAAQ,EAAE3B,CAAC,CAAC4B,MAAM,CAACC,GAAG;MAAEC,SAAS,EAAE9B,CAAC,CAAC4B,MAAM,CAACG;IAAI,CAAC;EAAE,CAAC,CAAC;EAC7G,OAAO,IAAI;AACb;AAACN,GAAA,CAHQF,eAAe;EAAA,QACtBpH,YAAY;AAAA;AAAA6H,GAAA,GADLT,eAAe;AAKxB,SAASU,kBAAkBA,CAACC,GAAG,EAAEnC,KAAK,EAAE;EACtC;EACA,IAAImC,GAAG,KAAK,eAAe,EAAE;IAC3B,MAAMC,CAAC,GAAGrD,MAAM,CAACiB,KAAK,IAAI,EAAE,CAAC,CAACqC,WAAW,CAAC,CAAC;IAC3C,IAAID,CAAC,CAACE,QAAQ,CAAC,KAAK,CAAC,EAAE,OAAO;MAAEC,KAAK,EAAE,eAAe;MAAEC,GAAG,EAAE;IAAc,CAAC;IAC5E,IAAIJ,CAAC,CAACE,QAAQ,CAAC,MAAM,CAAC,EAAE,OAAO;MAAEC,KAAK,EAAE,WAAW;MAAEC,GAAG,EAAE;IAAc,CAAC;IACzE,OAAO;MAAED,KAAK,EAAExD,MAAM,CAACiB,KAAK,IAAI,EAAE,CAAC;MAAEwC,GAAG,EAAE;IAAY,CAAC;EACzD;EAEA,MAAM7C,CAAC,GAAGO,MAAM,CAACF,KAAK,CAAC;EACvB,QAAQmC,GAAG;IACT,KAAK,IAAI;MACP,IAAIxC,CAAC,IAAI,GAAG,IAAIA,CAAC,IAAI,GAAG,EAAE,OAAO;QAAE4C,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAc,CAAC;MACtE,IAAI7C,CAAC,IAAI,GAAG,IAAIA,CAAC,IAAI,GAAG,EAAE,OAAO;QAAE4C,KAAK,EAAE,UAAU;QAAEC,GAAG,EAAE;MAAkB,CAAC;MAC9E,OAAO;QAAED,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAc,CAAC;IAC9C,KAAK,WAAW;IAChB,KAAK,IAAI;MACP,IAAI7C,CAAC,IAAI,GAAG,EAAE,OAAO;QAAE4C,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAc,CAAC;MAC1D,IAAI7C,CAAC,IAAI,GAAG,EAAE,OAAO;QAAE4C,KAAK,EAAE,UAAU;QAAEC,GAAG,EAAE;MAAkB,CAAC;MAClE,OAAO;QAAED,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAc,CAAC;IAC9C,KAAK,YAAY;IACjB,KAAK,KAAK;MACR,IAAI7C,CAAC,IAAI,GAAG,EAAE,OAAO;QAAE4C,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAc,CAAC;MAC1D,IAAI7C,CAAC,IAAI,GAAG,EAAE,OAAO;QAAE4C,KAAK,EAAE,UAAU;QAAEC,GAAG,EAAE;MAAkB,CAAC;MAClE,OAAO;QAAED,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAc,CAAC;IAC9C,KAAK,cAAc;IACnB,KAAK,cAAc;IACnB,KAAK,IAAI;IACT,KAAK,IAAI;MACP,IAAIC,KAAK,CAAC9C,CAAC,CAAC,EAAE,OAAO;QAAE4C,KAAK,EAAExD,MAAM,CAACiB,KAAK,CAAC;QAAEwC,GAAG,EAAE;MAAY,CAAC;MAC/D,IAAI7C,CAAC,GAAG,GAAG,EAAE,OAAO;QAAE4C,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAc,CAAC;MACzD,IAAI7C,CAAC,IAAI,IAAI,EAAE,OAAO;QAAE4C,KAAK,EAAE,UAAU;QAAEC,GAAG,EAAE;MAAkB,CAAC;MACnE,OAAO;QAAED,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAc,CAAC;IAC9C;MACE,OAAO;QAAED,KAAK,EAAExD,MAAM,CAACiB,KAAK,CAAC;QAAEwC,GAAG,EAAE;MAAY,CAAC;EACrD;AACF;AAEA,eAAe,SAASE,GAAGA,CAAA,EAAG;EAAAC,GAAA;EAC5B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGhJ,QAAQ,CAAC,MAAM,CAAC;EAC1C,MAAM,CAACiJ,WAAW,EAAEC,cAAc,CAAC,GAAGlJ,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACoF,QAAQ,EAAE+D,WAAW,CAAC,GAAGnJ,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACoJ,YAAY,EAAEC,eAAe,CAAC,GAAGrJ,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACsJ,WAAW,EAAEC,cAAc,CAAC,GAAGvJ,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACwJ,UAAU,EAAEC,aAAa,CAAC,GAAGzJ,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAAC0J,UAAU,EAAEC,aAAa,CAAC,GAAG3J,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAAC4J,QAAQ,EAAEC,WAAW,CAAC,GAAG7J,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC8J,OAAO,EAAEC,UAAU,CAAC,GAAG/J,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACgK,YAAY,EAAEC,eAAe,CAAC,GAAGjK,QAAQ,CAAC,MAAM;IACrD,MAAM0C,CAAC,GAAG,IAAIP,IAAI,CAAC,CAAC;IACpB,OAAO,GAAGO,CAAC,CAACD,WAAW,CAAC,CAAC,IAAIyC,MAAM,CAACxC,CAAC,CAACJ,QAAQ,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC6C,QAAQ,CAAC,CAAC,EAAC,GAAG,CAAC,IAAID,MAAM,CAACxC,CAAC,CAACK,OAAO,CAAC,CAAC,CAAC,CAACoC,QAAQ,CAAC,CAAC,EAAC,GAAG,CAAC,EAAE;EAC9G,CAAC,CAAC;;EAEF;EACApF,SAAS,CAAC,MAAM;IACd,MAAM,CAAC6C,CAAC,EAAEC,CAAC,CAAC,GAAGmH,YAAY,CAACE,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC3D,GAAG,CAACH,MAAM,CAAC;IAC7D,IAAI+D,OAAO,GAAG,IAAI;IAClB,CAAC,YAAY;MACX,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGpJ,QAAQ,sBAAsB2B,CAAC,SAASD,CAAC,EAAE,CAAC;QACvE,MAAM2H,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;QAC7B,MAAMC,IAAI,GAAG,CAAC,CAAC;QACf,KAAK,MAAMC,IAAI,IAAKH,IAAI,CAACtB,WAAW,IAAI,EAAE,EAAG;UAC3C;UACA,MAAM0B,GAAG,GAAGjK,aAAa,CAACkK,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,IAAID,CAAC,CAACE,IAAI,KAAKL,IAAI,CAACM,QAAQ,IAAIH,CAAC,CAACE,IAAI,KAAKL,IAAI,CAACO,aAAa,CAAC;UAClH,IAAIN,GAAG,EAAEF,IAAI,CAACE,GAAG,CAACG,EAAE,CAAC,GAAGJ,IAAI,CAACQ,MAAM,IAAIR,IAAI;QAC7C;QACA,IAAIN,OAAO,EAAElB,cAAc,CAACuB,IAAI,CAAC;MACnC,CAAC,CAAC,OAAOU,GAAG,EAAE;QACZ;MAAA;IAEJ,CAAC,EAAE,CAAC;IACJ,OAAO,MAAM;MAAEf,OAAO,GAAG,KAAK;IAAE,CAAC;EACnC,CAAC,EAAE,CAACJ,YAAY,CAAC,CAAC;EAElB,MAAMoB,cAAc,GAAGnL,WAAW,CAAEoL,EAAE,IAAK;IACzC,IAAI7B,UAAU,KAAK,OAAO,EAAEG,aAAa,CAAC0B,EAAE,CAAC,CAAC,KACzC,IAAI7B,UAAU,KAAK,KAAK,EAAEK,WAAW,CAACwB,EAAE,CAAC;EAChD,CAAC,EAAE,CAAC7B,UAAU,CAAC,CAAC;EAEhB,MAAM8B,iBAAiB,GAAIX,GAAG,IAAK;IACjCxB,WAAW,CAACwB,GAAG,CAAC;IAChB;IACA,MAAMY,IAAI,GAAGtC,WAAW,CAAC0B,GAAG,CAACG,EAAE,CAAC,IAAI,IAAI;IACxC3B,WAAW,CAACqC,IAAI,KAAK;MAAC,GAAGb,GAAG;MAAEc,UAAU,EAAEF;IAAI,CAAC,CAAC,CAAC;EACnD,CAAC;EAED,MAAMG,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI,CAAChC,UAAU,IAAI,CAACE,QAAQ,EAAE,OAAO+B,KAAK,CAAC,oBAAoB,CAAC;IAChE;IACA,MAAMC,YAAY,GAAIP,EAAE,IAAK;MAC3B,IAAIQ,IAAI,GAAG,CAAC;QAAEC,KAAK,GAAGC,QAAQ;MAC9B,KAAK,IAAIxH,CAAC,GAAC,CAAC,EAACA,CAAC,GAACzD,eAAe,CAACuD,MAAM,EAACE,CAAC,EAAE,EAAC;QACxC,MAAMyH,IAAI,GAAGlL,eAAe,CAACyD,CAAC,CAAC,CAACwD,QAAQ,GAAGsD,EAAE,CAACtD,QAAQ;QACtD,MAAMkE,IAAI,GAAGnL,eAAe,CAACyD,CAAC,CAAC,CAAC2D,SAAS,GAAGmD,EAAE,CAACnD,SAAS;QACxD,MAAMgE,EAAE,GAAGF,IAAI,GAACA,IAAI,GAAGC,IAAI,GAACA,IAAI;QAChC,IAAIC,EAAE,GAAGJ,KAAK,EAAC;UAAEA,KAAK,GAAGI,EAAE;UAAEL,IAAI,GAAGtH,CAAC;QAAE;MACzC;MACA,OAAOsH,IAAI;IACb,CAAC;IACD,MAAMM,EAAE,GAAGP,YAAY,CAAClC,UAAU,CAAC;MAAE0C,EAAE,GAAGR,YAAY,CAAChC,QAAQ,CAAC;IAChE,MAAMyC,CAAC,GAAG/I,IAAI,CAACsB,GAAG,CAACuH,EAAE,EAAEC,EAAE,CAAC;MAAEE,CAAC,GAAGhJ,IAAI,CAACwB,GAAG,CAACqH,EAAE,EAAEC,EAAE,CAAC;IAChD,MAAMG,GAAG,GAAGzL,eAAe,CAACoJ,KAAK,CAACmC,CAAC,EAAEC,CAAC,GAAC,CAAC,CAAC;IACzC,MAAM5J,CAAC,GAAG,IAAIP,IAAI,CAAC6H,YAAY,CAAC;IAChC,MAAMO,IAAI,GAAG;MAAEiC,SAAS,EAAED,GAAG;MAAEE,MAAM,EAAEnD,WAAW;MAAErF,KAAK,EAAEvB,CAAC,CAACJ,QAAQ,CAAC,CAAC,GAAC,CAAC;MAAEoK,IAAI,EAAEhK,CAAC,CAACD,WAAW,CAAC,CAAC;MAAEkK,eAAe,EAAE;IAAK,CAAC;IACzH,IAAI;MACF,MAAMtC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGpJ,QAAQ,sBAAsB,EAAE;QAAE0L,MAAM,EAAC,MAAM;QAAEC,OAAO,EAAC;UAAC,cAAc,EAAC;QAAkB,CAAC;QAAEtC,IAAI,EAAEuC,IAAI,CAACC,SAAS,CAACxC,IAAI;MAAE,CAAC,CAAC;MACtJ,MAAMyC,EAAE,GAAG,MAAM3C,GAAG,CAACG,IAAI,CAAC,CAAC;MAC3B,IAAIwC,EAAE,CAACC,KAAK,EAAE,OAAOtB,KAAK,CAAC,UAAU,GAACqB,EAAE,CAACC,KAAK,CAAC;MAC/C5D,eAAe,CAAC2D,EAAE,CAAC/D,WAAW,IAAI,EAAE,CAAC;IACvC,CAAC,CAAC,OAAOkC,GAAG,EAAE;MAAEQ,KAAK,CAAC,gBAAgB,CAAC;IAAE;EAC3C,CAAC;EAED,oBACE1K,OAAA;IAAKoE,SAAS,EAAC,MAAM;IAAAG,QAAA,eACnBvE,OAAA;MAAMoE,SAAS,EAAC,MAAM;MAACC,KAAK,EAAE;QAACG,OAAO,EAAC,MAAM;QAAEG,GAAG,EAAC;MAAE,CAAE;MAAAJ,QAAA,gBACrDvE,OAAA;QAAKqE,KAAK,EAAE;UAAC4H,IAAI,EAAC;QAAC,CAAE;QAAA1H,QAAA,EAClBuD,KAAK,KAAK,MAAM,gBACf9H,OAAA;UAAKoE,SAAS,EAAC,WAAW;UAAAG,QAAA,eACxBvE,OAAA;YAAKoE,SAAS,EAAC,WAAW;YAAAG,QAAA,gBACxBvE,OAAA;cAAKoE,SAAS,EAAC,WAAW;cAAAG,QAAA,gBACxBvE,OAAA;gBAAKoE,SAAS,EAAC,MAAM;gBAAAG,QAAA,eAACvE,OAAA,CAACR,OAAO;kBAAC0M,IAAI,EAAE,EAAG;kBAACpG,KAAK,EAAC;gBAAM;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC9DjF,OAAA;gBAAAuE,QAAA,gBACEvE,OAAA;kBAAAuE,QAAA,EAAI;gBAAwB;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjCjF,OAAA;kBAAGoE,SAAS,EAAC,OAAO;kBAAAG,QAAA,EAAC;gBAAyC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/D,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNjF,OAAA;cAAAuE,QAAA,EAAG;YAAgK;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACvKjF,OAAA;cAAKoE,SAAS,EAAC,SAAS;cAAAG,QAAA,gBACtBvE,OAAA;gBAAKoE,SAAS,EAAC,YAAY;gBAAAG,QAAA,gBACzBvE,OAAA;kBAAAuE,QAAA,EAAI;gBAAM;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACfjF,OAAA;kBAAKoE,SAAS,EAAC,YAAY;kBAAAG,QAAA,gBACzBvE,OAAA;oBAAMoE,SAAS,EAAC,uBAAuB;oBAAAG,QAAA,EAAC;kBAAI;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACnDjF,OAAA;oBAAKoE,SAAS,EAAC,YAAY;oBAAAG,QAAA,GAAE,CAACzE,iBAAiB,CAAC,MAAM,CAAC,IAAI,EAAE,EAAEoJ,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC,GAAC;kBAAA;oBAAApE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClF,CAAC,eACNjF,OAAA;kBAAKoE,SAAS,EAAC,YAAY;kBAAAG,QAAA,gBACzBvE,OAAA;oBAAMoE,SAAS,EAAC,wBAAwB;oBAAAG,QAAA,EAAC;kBAAK;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACrDjF,OAAA;oBAAKoE,SAAS,EAAC,YAAY;oBAAAG,QAAA,GAAE,CAACzE,iBAAiB,CAAC,OAAO,CAAC,IAAI,EAAE,EAAEoJ,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC,GAAC;kBAAA;oBAAApE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnF,CAAC,eACNjF,OAAA;kBAAKoE,SAAS,EAAC,YAAY;kBAAAG,QAAA,gBACzBvE,OAAA;oBAAMoE,SAAS,EAAC,6BAA6B;oBAAAG,QAAA,EAAC;kBAAU;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAC/DjF,OAAA;oBAAKoE,SAAS,EAAC,YAAY;oBAAAG,QAAA,GAAE,CAACzE,iBAAiB,CAAC,YAAY,CAAC,IAAI,EAAE,EAAEoJ,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC,GAAC;kBAAA;oBAAApE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACNjF,OAAA;gBAAKoE,SAAS,EAAC,YAAY;gBAAAG,QAAA,gBACzBvE,OAAA;kBAAAuE,QAAA,EAAI;gBAAK;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdjF,OAAA;kBAAAuE,QAAA,EAAG;gBAA0d;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9d,CAAC,eACNjF,OAAA;gBAAKoE,SAAS,EAAC,YAAY;gBAAAG,QAAA,gBACzBvE,OAAA;kBAAAuE,QAAA,EAAI;gBAAU;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACnBjF,OAAA;kBAAIoE,SAAS,EAAC,aAAa;kBAAAG,QAAA,gBACzBvE,OAAA;oBAAAuE,QAAA,gBAAIvE,OAAA;sBAAAuE,QAAA,EAAQ;oBAAE;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,KAAC,eAAAjF,OAAA;sBAAKoE,SAAS,EAAC,MAAM;sBAAAG,QAAA,EAAC;oBAAwL;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACjPjF,OAAA;oBAAAuE,QAAA,gBAAIvE,OAAA;sBAAAuE,QAAA,EAAQ;oBAAE;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,KAAC,eAAAjF,OAAA;sBAAKoE,SAAS,EAAC,MAAM;sBAAAG,QAAA,EAAC;oBAAwL;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACjPjF,OAAA;oBAAAuE,QAAA,gBAAIvE,OAAA;sBAAAuE,QAAA,EAAQ;oBAAG;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,KAAC,eAAAjF,OAAA;sBAAKoE,SAAS,EAAC,MAAM;sBAAAG,QAAA,EAAC;oBAAwL;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAClPjF,OAAA;oBAAAuE,QAAA,gBAAIvE,OAAA;sBAAAuE,QAAA,EAAQ;oBAAK;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,KAAC,eAAAjF,OAAA;sBAAKoE,SAAS,EAAC,MAAM;sBAAAG,QAAA,EAAC;oBAA4M;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNjF,OAAA;cAAKoE,SAAS,EAAC,UAAU;cAAAG,QAAA,gBACvBvE,OAAA;gBAAQ4E,OAAO,EAAEA,CAAA,KAAMmD,QAAQ,CAAC,SAAS,CAAE;gBAAAxD,QAAA,EAAC;cAAa;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAClEjF,OAAA;gBAAQoE,SAAS,EAAC,WAAW;gBAACQ,OAAO,EAAEA,CAAA,KAAMmD,QAAQ,CAAC,aAAa,CAAE;gBAAAxD,QAAA,EAAC;cAAiB;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7F,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,gBAENjF,OAAA;UAAKoE,SAAS,EAAC,cAAc;UAACC,KAAK,EAAE;YAAC8H,MAAM,EAAE;UAAoB,CAAE;UAAA5H,QAAA,eAClEvE,OAAA,CAACf,YAAY;YAACuE,MAAM,EAAE,CAAC9D,UAAU,CAACoH,QAAQ,EAAEpH,UAAU,CAACuH,SAAS,CAAE;YAACmF,IAAI,EAAE1M,UAAU,CAAC0M,IAAK;YAAChI,SAAS,EAAC,KAAK;YAACiI,WAAW,EAAEzK,CAAC,IAAEkH,UAAU,CAAClH,CAAC,CAAE;YAACyC,KAAK,EAAE;cAAC8H,MAAM,EAAC;YAAM,CAAE;YAAA5H,QAAA,gBAC9JvE,OAAA,CAACd,SAAS;cAACoN,GAAG,EAAC;YAAoD;cAAAxH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACtEjF,OAAA,CAAC0G,eAAe;cAACC,UAAU,EAAEwD;YAAe;cAAArF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EAC9CxF,aAAa,CAAC8F,GAAG,CAACmE,GAAG,IAAI;cACxB,MAAMY,IAAI,GAAGtC,WAAW,CAAC0B,GAAG,CAACG,EAAE,CAAC,IAAI,IAAI;cACxC,MAAM0C,OAAO,GAAGjC,IAAI,GAAGkC,6BAA6B,CAAClC,IAAI,CAAC,GAAG,EAAE;cAC/D,MAAMmC,YAAY,GAAGF,OAAO,CAAC5C,IAAI,CAAC,CAAC,CAAC+C,CAAC,CAAC,KAAKzI,MAAM,CAACyI,CAAC,CAAC,CAACnF,WAAW,CAAC,CAAC,KAAK,eAAe,CAAC;cACvF,MAAMoF,YAAY,GAAGF,YAAY,GAAGG,kBAAkB,CAAC3I,MAAM,CAACwI,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;cACtF,MAAMI,aAAa,GAAGJ,YAAY,GAAGrF,kBAAkB,CAAC,eAAe,EAAEqF,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;cAEhG,oBACEzM,OAAA,CAACX,YAAY;gBAAcmE,MAAM,EAAE,CAACkG,GAAG,CAACoD,UAAU,CAAChG,QAAQ,EAAE4C,GAAG,CAACoD,UAAU,CAAC7F,SAAS,CAAE;gBAAC8F,WAAW,EAAE;kBAAEjH,KAAK,EAAEnG,aAAa,CAAC+J,GAAG,CAACsD,KAAK,CAAC;kBAAEC,SAAS,EAAEtN,aAAa,CAAC+J,GAAG,CAACsD,KAAK,CAAC;kBAAEE,WAAW,EAAC;gBAAI,CAAE;gBAACC,MAAM,EAAE,CAAE;gBAACC,aAAa,EAAE;kBAAEvG,KAAK,EAAEA,CAAA,KAAMwD,iBAAiB,CAACX,GAAG;gBAAE,CAAE;gBAAAnF,QAAA,eAChQvE,OAAA,CAACZ,KAAK;kBAAAmF,QAAA,eACJvE,OAAA;oBAAKoE,SAAS,EAAC,YAAY;oBAACC,KAAK,EAAE;sBAACgJ,QAAQ,EAAC;oBAAG,CAAE;oBAAA9I,QAAA,gBAChDvE,OAAA;sBAAKoE,SAAS,EAAC,cAAc;sBAAAG,QAAA,eAC3BvE,OAAA;wBAAAuE,QAAA,gBACEvE,OAAA;0BAAKoE,SAAS,EAAC,aAAa;0BAAAG,QAAA,EAAEqI,kBAAkB,CAAClD,GAAG,CAACI,IAAI;wBAAC;0BAAAhF,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAM,CAAC,eACjEjF,OAAA;0BAAKoE,SAAS,EAAC,iBAAiB;0BAACC,KAAK,EAAE;4BAACG,OAAO,EAAC,MAAM;4BAACG,GAAG,EAAC,CAAC;4BAACD,UAAU,EAAC,QAAQ;4BAACmB,SAAS,EAAC;0BAAC,CAAE;0BAAAtB,QAAA,gBAC7FvE,OAAA;4BAAMoE,SAAS,EAAE,aAAawI,kBAAkB,CAAClD,GAAG,CAACsD,KAAK,CAAC,CAACM,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC/F,WAAW,CAAC,CAAC,EAAG;4BAAAhD,QAAA,EAAEqI,kBAAkB,CAAClD,GAAG,CAACsD,KAAK;0BAAC;4BAAAlI,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAO,CAAC,EACvI0H,YAAY,gBAAG3M,OAAA;4BAAKoE,SAAS,EAAE,SAASyI,aAAa,GAAGA,aAAa,CAACnF,GAAG,GAAG,WAAW,EAAG;4BAAAnD,QAAA,EAAEoI;0BAAY;4BAAA7H,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAM,CAAC,GAAG,IAAI;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACpH,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACH;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC,EAELqF,IAAI,gBACHtK,OAAA;sBAAKoE,SAAS,EAAC,YAAY;sBAAAG,QAAA,EACxBgI,OAAO,CACLgB,MAAM,CAAC,CAAC,CAACb,CAAC,CAAC,KAAK;wBACf,MAAMrF,GAAG,GAAGpD,MAAM,CAACyI,CAAC,CAAC,CAACnF,WAAW,CAAC,CAAC;wBACnC,OAAO,CAAC,CAAC,UAAU,EAAC,eAAe,EAAC,OAAO,EAAC,OAAO,EAAC,MAAM,EAAC,IAAI,EAAC,eAAe,CAAC,CAACC,QAAQ,CAACH,GAAG,CAAC;sBAChG,CAAC,CAAC,CACD9B,GAAG,CAAC,CAAC,CAACmH,CAAC,EAAC7H,CAAC,CAAC,KAAK;wBACd,MAAMK,KAAK,GAAGsI,WAAW,CAACd,CAAC,EAAE7H,CAAC,CAAC;wBAC/B,MAAMyC,CAAC,GAAGF,kBAAkB,CAACsF,CAAC,EAAE7H,CAAC,CAAC;wBAClC,oBACE7E,OAAA;0BAAKoE,SAAS,EAAC,WAAW;0BAAAG,QAAA,gBACxBvE,OAAA;4BAAKoE,SAAS,EAAC,YAAY;4BAAAG,QAAA,EAAEmI;0BAAC;4BAAA5H,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAM,CAAC,eACrCjF,OAAA;4BAAKoE,SAAS,EAAC,aAAa;4BAAAG,QAAA,gBAC1BvE,OAAA;8BAAMoE,SAAS,EAAC,UAAU;8BAAAG,QAAA,EAAEW;4BAAK;8BAAAJ,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAO,CAAC,eACzCjF,OAAA;8BAAMoE,SAAS,EAAE,SAASkD,CAAC,CAACI,GAAG,EAAG;8BAACrD,KAAK,EAAE;gCAACoJ,UAAU,EAAC;8BAAC,CAAE;8BAAAlJ,QAAA,EAAE+C,CAAC,CAACG;4BAAK;8BAAA3C,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAO,CAAC;0BAAA;4BAAAH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACvE,CAAC;wBAAA,GALwByH,CAAC;0BAAA5H,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAM5B,CAAC;sBAEV,CAAC;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACD,CAAC,gBACJjF,OAAA;sBAAKqE,KAAK,EAAE;wBAACwB,SAAS,EAAC;sBAAC,CAAE;sBAAAtB,QAAA,EAAC;oBAAU;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5C;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD;cAAC,GApCSyE,GAAG,CAACG,EAAE;gBAAA/E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAqCX,CAAC;YAEnB,CAAC,CAAC,EACD6C,KAAK,KAAK,aAAa,IAAIW,UAAU,gBAAGzI,OAAA,CAACb,MAAM;cAACuO,QAAQ,EAAE,CAACjF,UAAU,CAAC3B,QAAQ,EAAE2B,UAAU,CAACxB,SAAS,CAAE;cAAA1C,QAAA,eAACvE,OAAA,CAACZ,KAAK;gBAAAmF,QAAA,EAAC;cAAK;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,GAAG,IAAI,EAC3I6C,KAAK,KAAK,aAAa,IAAIa,QAAQ,gBAAG3I,OAAA,CAACb,MAAM;cAACuO,QAAQ,EAAE,CAAC/E,QAAQ,CAAC7B,QAAQ,EAAE6B,QAAQ,CAAC1B,SAAS,CAAE;cAAA1C,QAAA,eAACvE,OAAA,CAACZ,KAAK;gBAAAmF,QAAA,EAAC;cAAG;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,GAAG,IAAI,EACnI6C,KAAK,KAAK,aAAa,IAAIK,YAAY,CAAC5C,GAAG,CAAC,CAAC6E,EAAE,EAAE9G,CAAC,kBACjDtD,OAAA,CAACX,YAAY;cAASmE,MAAM,EAAE,CAAC4G,EAAE,CAACtD,QAAQ,EAAEsD,EAAE,CAACnD,SAAS,CAAE;cAACkG,MAAM,EAAE,CAAE;cAACJ,WAAW,EAAE;gBAACjH,KAAK,EAAC,SAAS;gBAAEmH,SAAS,EAAC,SAAS;gBAAEC,WAAW,EAAC;cAAG,CAAE;cAAA3I,QAAA,eACzIvE,OAAA,CAACZ,KAAK;gBAAAmF,QAAA,eACJvE,OAAA;kBAAKqE,KAAK,EAAE;oBAACgJ,QAAQ,EAAC;kBAAG,CAAE;kBAAA9I,QAAA,gBACzBvE,OAAA;oBAAAuE,QAAA,eAAKvE,OAAA;sBAAAuE,QAAA,EAAQ;oBAAY;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACxCjF,OAAA;oBAAKoE,SAAS,EAAC,OAAO;oBAAAG,QAAA,GAAC,WAAS,EAAC6F,EAAE,CAACuD,gBAAgB,IAAI,GAAG;kBAAA;oBAAA7I,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAClEjF,OAAA;oBAAIqE,KAAK,EAAE;sBAACwB,SAAS,EAAC;oBAAC,CAAE;oBAAAtB,QAAA,gBACvBvE,OAAA;sBAAAuE,QAAA,GAAI,MAAI,EAAC6F,EAAE,CAAC,IAAI,CAAC;oBAAA;sBAAAtF,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACvBjF,OAAA;sBAAAuE,QAAA,GAAI,MAAI,EAAC6F,EAAE,CAAC,WAAW,CAAC;oBAAA;sBAAAtF,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5B,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD;YAAC,GAVS3B,CAAC;cAAAwB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAWN,CACf,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACU;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAGL6C,KAAK,KAAK,MAAM,iBACf9H,OAAA;QAAOoE,SAAS,EAAC,cAAc;QAACC,KAAK,EAAE;UAACuJ,KAAK,EAAC;QAAG,CAAE;QAAArJ,QAAA,gBACnDvE,OAAA;UAAKqE,KAAK,EAAE;YAACG,OAAO,EAAC,MAAM;YAAEC,cAAc,EAAC,UAAU;YAAEE,GAAG,EAAC,CAAC;YAAEL,OAAO,EAAC;UAAC,CAAE;UAAAC,QAAA,gBACxEvE,OAAA;YAAQ4E,OAAO,EAAEA,CAAA,KAAImD,QAAQ,CAAC,MAAM,CAAE;YAAC3D,SAAS,EAAC,OAAO;YAAAG,QAAA,EAAC;UAAI;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACtEjF,OAAA;YAAQ4E,OAAO,EAAEA,CAAA,KAAImD,QAAQ,CAAC,aAAa,CAAE;YAAC3D,SAAS,EAAC,eAAe;YAAAG,QAAA,EAAC;UAAW;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzF,CAAC,eACNjF,OAAA;UAAKoE,SAAS,EAAC,iBAAiB;UAAAG,QAAA,eAC9BvE,OAAA,CAACa,QAAQ;YAACC,IAAI,EAAEiI,YAAa;YAAChI,QAAQ,EAAEU,CAAC,IAAEuH,eAAe,CAACvH,CAAC;UAAE;YAAAqD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC,EAEL6C,KAAK,KAAK,aAAa,iBACtB9H,OAAA;UAAKqE,KAAK,EAAE;YAACwB,SAAS,EAAC;UAAE,CAAE;UAAAtB,QAAA,gBACzBvE,OAAA;YAAKoE,SAAS,EAAC,cAAc;YAAAG,QAAA,gBAC3BvE,OAAA;cAAQ4E,OAAO,EAAEA,CAAA,KAAI4D,aAAa,CAACD,UAAU,KAAG,OAAO,GAAC,IAAI,GAAC,OAAO,CAAE;cAACnE,SAAS,EAAEmE,UAAU,KAAG,OAAO,GAAC,QAAQ,GAAC,EAAG;cAAAhE,QAAA,EAAC;YAAU;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACvIjF,OAAA;cAAQ4E,OAAO,EAAEA,CAAA,KAAI4D,aAAa,CAACD,UAAU,KAAG,KAAK,GAAC,IAAI,GAAC,KAAK,CAAE;cAACnE,SAAS,EAAEmE,UAAU,KAAG,KAAK,GAAC,QAAQ,GAAC,EAAG;cAAAhE,QAAA,EAAC;YAAQ;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC/HjF,OAAA;cAAQ4E,OAAO,EAAEA,CAAA,KAAI;gBAAE4D,aAAa,CAAC,IAAI,CAAC;gBAAEJ,eAAe,CAAC,EAAE,CAAC;gBAAEM,aAAa,CAAC,IAAI,CAAC;gBAAEE,WAAW,CAAC,IAAI,CAAC;cAAE,CAAE;cAAArE,QAAA,EAAC;YAAK;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvH,CAAC,eACNjF,OAAA;YAAKqE,KAAK,EAAE;cAACwB,SAAS,EAAC;YAAC,CAAE;YAAAtB,QAAA,eACxBvE,OAAA;cAAAuE,QAAA,GAAO,YAAU,eAAAvE,OAAA;gBAAO6N,IAAI,EAAC,QAAQ;gBAAClK,GAAG,EAAE,CAAE;gBAACE,GAAG,EAAE,EAAG;gBAACqB,KAAK,EAAEmD,WAAY;gBAACtH,QAAQ,EAAEoE,CAAC,IAAEmD,cAAc,CAAClD,MAAM,CAACD,CAAC,CAACE,MAAM,CAACH,KAAK,CAAC,CAAE;gBAACb,KAAK,EAAE;kBAACuJ,KAAK,EAAC,EAAE;kBAAEH,UAAU,EAAC;gBAAC;cAAE;gBAAA3I,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvK,CAAC,eACNjF,OAAA;YAAKqE,KAAK,EAAE;cAACwB,SAAS,EAAC;YAAC,CAAE;YAAAtB,QAAA,gBACxBvE,OAAA;cAAAuE,QAAA,GAAK,SAAO,EAACkE,UAAU,GAAC,GAAGA,UAAU,CAAC3B,QAAQ,CAACgH,OAAO,CAAC,CAAC,CAAC,KAAKrF,UAAU,CAACxB,SAAS,CAAC6G,OAAO,CAAC,CAAC,CAAC,EAAE,GAAC,GAAG;YAAA;cAAAhJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC1GjF,OAAA;cAAAuE,QAAA,GAAK,OAAK,EAACoE,QAAQ,GAAC,GAAGA,QAAQ,CAAC7B,QAAQ,CAACgH,OAAO,CAAC,CAAC,CAAC,KAAKnF,QAAQ,CAAC1B,SAAS,CAAC6G,OAAO,CAAC,CAAC,CAAC,EAAE,GAAC,GAAG;YAAA;cAAAhJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/F,CAAC,eACNjF,OAAA;YAAKqE,KAAK,EAAE;cAACwB,SAAS,EAAC;YAAC,CAAE;YAAAtB,QAAA,eACxBvE,OAAA;cAAQ4E,OAAO,EAAE6F,oBAAqB;cAAAlG,QAAA,EAAC;YAAW;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,eAEDjF,OAAA;UAAKqE,KAAK,EAAE;YAACwB,SAAS,EAAC;UAAE,CAAE;UAAAtB,QAAA,gBACzBvE,OAAA;YAAKoE,SAAS,EAAC,eAAe;YAAAG,QAAA,GAAC,iBAAe,eAAAvE,OAAA;cAAAuE,QAAA,EAAS,IAAIrD,IAAI,CAAC6H,YAAY,CAAC,CAACgF,kBAAkB,CAAC;YAAC;cAAAjJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,EAC7Gd,QAAQ,gBACXnE,OAAA;YAAKqE,KAAK,EAAE;cAACwB,SAAS,EAAC;YAAE,CAAE;YAAAtB,QAAA,gBACzBvE,OAAA;cAAAuE,QAAA,EAAKqI,kBAAkB,CAACzI,QAAQ,CAAC2F,IAAI;YAAC;cAAAhF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC5CjF,OAAA;cAAKoE,SAAS,EAAC,OAAO;cAACC,KAAK,EAAE;gBAACG,OAAO,EAAC,MAAM;gBAAEC,cAAc,EAAC,eAAe;gBAAEC,UAAU,EAAC;cAAQ,CAAE;cAAAH,QAAA,gBAClGvE,OAAA;gBAAAuE,QAAA,gBAAKvE,OAAA;kBAAMoE,SAAS,EAAE,aAAawI,kBAAkB,CAACzI,QAAQ,CAAC6I,KAAK,CAAC,CAACM,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC/F,WAAW,CAAC,CAAC,EAAG;kBAAAhD,QAAA,EAAEqI,kBAAkB,CAACzI,QAAQ,CAAC6I,KAAK;gBAAC;kBAAAlI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,YAAG,EAACd,QAAQ,CAAC6J,WAAW;cAAA;gBAAAlJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EACrLd,QAAQ,CAACqG,UAAU,GAAG,CAAC,MAAM;gBAC5B,MAAM+B,OAAO,GAAGC,6BAA6B,CAACrI,QAAQ,CAACqG,UAAU,CAAC;gBAClE,MAAMyD,OAAO,GAAG1B,OAAO,CAAC5C,IAAI,CAAC,CAAC,CAAC+C,CAAC,CAAC,KAAKzI,MAAM,CAACyI,CAAC,CAAC,CAACnF,WAAW,CAAC,CAAC,KAAK,eAAe,CAAC;gBAClF,IAAI0G,OAAO,EAAE;kBACX,MAAM3G,CAAC,GAAGF,kBAAkB,CAAC,eAAe,EAAE6G,OAAO,CAAC,CAAC,CAAC,CAAC;kBACzD,oBAAOjO,OAAA;oBAAKoE,SAAS,EAAE,SAASkD,CAAC,GAAGA,CAAC,CAACI,GAAG,GAAG,WAAW,EAAG;oBAAAnD,QAAA,EAAEqI,kBAAkB,CAAC3I,MAAM,CAACgK,OAAO,CAAC,CAAC,CAAC,CAAC;kBAAC;oBAAAnJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAC3G;gBACA,OAAO,IAAI;cACb,CAAC,EAAE,CAAC,GAAG,IAAI;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC,eACNjF,OAAA;cAAIqE,KAAK,EAAE;gBAACwB,SAAS,EAAC;cAAC,CAAE;cAAAtB,QAAA,EAAC;YAAU;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACxCd,QAAQ,CAACqG,UAAU,gBAClBxK,OAAA;cAAAuE,QAAA,EACGiI,6BAA6B,CAACrI,QAAQ,CAACqG,UAAU,CAAC,CAChD+C,MAAM,CAAC,CAAC,CAACb,CAAC,CAAC,KAAK;gBACf,MAAMrF,GAAG,GAAGpD,MAAM,CAACyI,CAAC,CAAC,CAACnF,WAAW,CAAC,CAAC;gBACnC,OAAO,CAAC,CAAC,UAAU,EAAC,eAAe,EAAC,OAAO,EAAC,OAAO,EAAC,MAAM,EAAC,IAAI,EAAC,eAAe,CAAC,CAACC,QAAQ,CAACH,GAAG,CAAC;cAChG,CAAC,CAAC,CACD9B,GAAG,CAAC,CAAC,CAACmH,CAAC,EAAC7H,CAAC,CAAC,KAAG;gBACZ,MAAMK,KAAK,GAAGsI,WAAW,CAACd,CAAC,EAAE7H,CAAC,CAAC;gBAC/B,MAAMyC,CAAC,GAAGF,kBAAkB,CAACsF,CAAC,EAAC7H,CAAC,CAAC;gBACjC,oBACE7E,OAAA;kBAAaoE,SAAS,EAAC,kBAAkB;kBAAAG,QAAA,gBACvCvE,OAAA;oBAAKoE,SAAS,EAAC,OAAO;oBAAAG,QAAA,EAAEmI;kBAAC;oBAAA5H,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAChCjF,OAAA;oBAAKoE,SAAS,EAAC,OAAO;oBAAAG,QAAA,gBAACvE,OAAA;sBAAKoE,SAAS,EAAC,UAAU;sBAAAG,QAAA,EAAEW;oBAAK;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eAAAjF,OAAA;sBAAKoE,SAAS,EAAE,SAASkD,CAAC,CAACI,GAAG,EAAG;sBAAAnD,QAAA,EAAE+C,CAAC,CAACG;oBAAK;sBAAA3C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA,GAF7GyH,CAAC;kBAAA5H,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAGN,CAAC;cAEV,CAAC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,gBACJjF,OAAA;cAAAuE,QAAA,EAAK;YAAU;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtB,CAAC,gBAENjF,OAAA;YAAKoE,SAAS,EAAC,aAAa;YAACC,KAAK,EAAE;cAACwB,SAAS,EAAC;YAAE,CAAE;YAAAtB,QAAA,EAAC;UAAiD;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAC3G;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC4C,GAAA,CAtRuBD,GAAG;AAAAsG,GAAA,GAAHtG,GAAG;AAwR3B,SAAS4F,WAAWA,CAACnG,GAAG,EAAEnC,KAAK,EAAE;EAC/B,IAAIA,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKnC,SAAS,EAAE,OAAO,GAAG;EACrD,MAAMoL,CAAC,GAAG/I,MAAM,CAACF,KAAK,CAAC;EACvB,IAAI,CAACE,MAAM,CAACuC,KAAK,CAACwG,CAAC,CAAC,EAAE;IACpB,IAAI,KAAK,CAACC,IAAI,CAAC/G,GAAG,CAAC,EAAE,OAAO8G,CAAC,CAACL,OAAO,CAAC,CAAC,CAAC;IACxC,IAAI,mBAAmB,CAACM,IAAI,CAAC/G,GAAG,CAAC,EAAE,OAAO8G,CAAC,CAACL,OAAO,CAAC,CAAC,CAAC;IACtD,OAAO7J,MAAM,CAACkK,CAAC,CAAC;EAClB;EACA,OAAOlK,MAAM,CAACiB,KAAK,CAAC;AACtB;AAEA,SAAS0H,kBAAkBA,CAACyB,OAAO,EAAE;EACnC,IAAIA,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAKtL,SAAS,EAAE,OAAOsL,OAAO;EAC7D,IAAI/G,CAAC,GAAGrD,MAAM,CAACoK,OAAO,CAAC,CAACC,IAAI,CAAC,CAAC;EAC9B,IAAI,CAAChH,CAAC,EAAE,OAAOA,CAAC;EAChB;EACAA,CAAC,GAAGA,CAAC,CAACgG,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;EAC1B;EACAhG,CAAC,GAAGA,CAAC,CAACgG,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAACgB,IAAI,CAAC,CAAC;EAC3C;EACA,MAAM1M,CAAC,GAAG0F,CAAC,CAACiH,KAAK,CAAC,yBAAyB,CAAC;EAC5C,IAAI3M,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,EAAE,OAAOA,CAAC,CAAC,CAAC,CAAC,CAAC0M,IAAI,CAAC,CAAC;EACjC;EACA,MAAME,EAAE,GAAGlH,CAAC,CAACiH,KAAK,CAAC,cAAc,CAAC;EAClC,OAAOC,EAAE,GAAGA,EAAE,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,CAAC,GAAGhH,CAAC;AAC9B;AAEA,SAASkF,6BAA6BA,CAAClC,IAAI,EAAE;EAC3C;EACA,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE,OAAO,EAAE;EAChD,MAAM/E,GAAG,GAAG,IAAIkJ,GAAG,CAAC,CAAC;EACrB,KAAK,MAAM,CAAC/B,CAAC,EAAE7H,CAAC,CAAC,IAAI6J,MAAM,CAACnC,OAAO,CAACjC,IAAI,CAAC,EAAE;IACzC,MAAMjD,GAAG,GAAGpD,MAAM,CAACyI,CAAC,CAAC,CAAC4B,IAAI,CAAC,CAAC;IAC5B,MAAMK,IAAI,GAAGtH,GAAG,CAACE,WAAW,CAAC,CAAC,CAAC+F,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;IACnD;IACA,MAAMsB,SAAS,GAAGD,IAAI,KAAK,eAAe,GAAG,eAAe,GAAGA,IAAI;IACnEpJ,GAAG,CAACsJ,GAAG,CAACD,SAAS,EAAE;MAAEvH,GAAG,EAAEA,GAAG;MAAEnC,KAAK,EAAEL;IAAE,CAAC,CAAC;EAC5C;EACA;EACA,OAAO3B,KAAK,CAACC,IAAI,CAACoC,GAAG,CAAC0E,MAAM,CAAC,CAAC,CAAC,CAAC1E,GAAG,CAACuJ,CAAC,IAAI,CAACA,CAAC,CAACzH,GAAG,EAAEyH,CAAC,CAAC5J,KAAK,CAAC,CAAC;AAC5D;AAAC,IAAAuB,EAAA,EAAAU,GAAA,EAAA+G,GAAA;AAAAa,YAAA,CAAAtI,EAAA;AAAAsI,YAAA,CAAA5H,GAAA;AAAA4H,YAAA,CAAAb,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}