{"ast":null,"code":"var _jsxFileName = \"F:\\\\Download\\\\pph\\\\web\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, CircleMarker, Polyline, Tooltip, useMapEvents } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { FaWater } from 'react-icons/fa';\nimport { puneLocations, puneCenter, getRiverColor, riverPaths, preSampledRiver, riverDescriptions } from './locations';\nimport { FaCopy, FaTrash, FaPaste } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:8000';\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'\n});\nfunction Calendar({\n  date,\n  onChange\n}) {\n  _s();\n  const base = date ? new Date(date) : new Date();\n  const [viewMonth, setViewMonth] = React.useState(base.getMonth());\n  const [viewYear, setViewYear] = React.useState(base.getFullYear());\n  React.useEffect(() => {\n    const d = date ? new Date(date) : new Date();\n    setViewMonth(d.getMonth());\n    setViewYear(d.getFullYear());\n  }, [date]);\n  const startOfMonth = (y, m) => new Date(y, m, 1);\n  const daysInMonth = (y, m) => new Date(y, m + 1, 0).getDate();\n  const monthNames = Array.from({\n    length: 12\n  }, (_, i) => new Date(2000, i).toLocaleString(undefined, {\n    month: 'long'\n  }));\n  const getYearOptions = center => {\n    const cy = new Date().getFullYear();\n    const start = Math.max(center - 100, 1900);\n    const end = Math.max(center + 100, cy + 100);\n    const arr = [];\n    for (let y = start; y <= end; y++) arr.push(y);\n    return arr;\n  };\n  const weeks = [];\n  const firstDay = startOfMonth(viewYear, viewMonth).getDay();\n  const leading = (firstDay + 6) % 7;\n  const total = leading + daysInMonth(viewYear, viewMonth);\n  const rows = Math.ceil(total / 7);\n  let day = 1 - leading;\n  for (let r = 0; r < rows; r++) {\n    const week = [];\n    for (let c = 0; c < 7; c++, day++) {\n      week.push(new Date(viewYear, viewMonth, day));\n    }\n    weeks.push(week);\n  }\n  const selectDate = d => {\n    const iso = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n    onChange && onChange(iso);\n  };\n  const selected = date ? new Date(date) : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inline-calendar\",\n    style: {\n      padding: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cal-head\",\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '6px 4px',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"small\",\n        onClick: () => {\n          const m = viewMonth - 1;\n          if (m < 0) {\n            setViewYear(v => v - 1);\n            setViewMonth(11);\n          } else setViewMonth(m);\n        },\n        children: '◀'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"cal-select\",\n          value: viewMonth,\n          onChange: e => setViewMonth(Number(e.target.value)),\n          \"aria-label\": \"Select month\",\n          style: {\n            padding: 6,\n            borderRadius: 6,\n            minWidth: 130,\n            background: '#fff',\n            color: '#0b3b52'\n          },\n          children: monthNames.map((mn, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: idx,\n            children: mn\n          }, mn, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 40\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"cal-select\",\n          value: viewYear,\n          onChange: e => setViewYear(Number(e.target.value)),\n          \"aria-label\": \"Select year\",\n          style: {\n            padding: 6,\n            borderRadius: 6,\n            minWidth: 110,\n            background: '#fff',\n            color: '#0b3b52'\n          },\n          children: getYearOptions(viewYear).map(y => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: y,\n            children: y\n          }, y, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 48\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"small\",\n        onClick: () => {\n          const m = viewMonth + 1;\n          if (m > 11) {\n            setViewYear(v => v + 1);\n            setViewMonth(0);\n          } else setViewMonth(m);\n        },\n        children: '▶'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(7,1fr)',\n        gap: 4,\n        marginTop: 8,\n        color: '#64748b',\n        fontSize: 12,\n        fontWeight: 700,\n        textAlign: 'center'\n      },\n      children: ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'].map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: d\n      }, d, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 55\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: weeks.map((week, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(7,1fr)',\n          gap: 4,\n          marginBottom: 4\n        },\n        children: week.map(d => {\n          const inMonth = d.getMonth() === viewMonth;\n          const isSelected = selected && d.getFullYear() === selected.getFullYear() && d.getMonth() === selected.getMonth() && d.getDate() === selected.getDate();\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => inMonth && selectDate(d),\n            style: {\n              padding: 10,\n              borderRadius: 6,\n              border: 'none',\n              background: isSelected ? 'var(--primary)' : inMonth ? '#f8fafc' : 'transparent',\n              color: isSelected ? '#fff' : inMonth ? '#0b3b52' : '#94a3b8',\n              cursor: inMonth ? 'pointer' : 'default'\n            },\n            children: d.getDate()\n          }, d.toISOString(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this);\n        })\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cal-footer\",\n      style: {\n        padding: 8,\n        marginTop: 6\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          const td = new Date();\n          const iso = `${td.getFullYear()}-${String(td.getMonth() + 1).padStart(2, '0')}-${String(td.getDate()).padStart(2, '0')}`;\n          setViewMonth(td.getMonth());\n          setViewYear(td.getFullYear());\n          onChange && onChange(iso);\n        },\n        children: \"Today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(Calendar, \"+WjzgPy1E1H6pbTexAGZoB0CTbk=\");\n_c = Calendar;\nexport default function App() {\n  _s3();\n  var _s2 = $RefreshSig$();\n  const [route, setRoute] = useState('home');\n  const [selectedDate, setSelectedDate] = useState(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n  });\n  const [predictions, setPredictions] = useState({});\n  const [selected, setSelected] = useState(null);\n  const [selectMode, setSelectMode] = useState(null);\n  const [startPoint, setStartPoint] = useState(null);\n  const [endPoint, setEndPoint] = useState(null);\n  const [startInput, setStartInput] = useState('');\n  const [endInput, setEndInput] = useState('');\n  const [startRiver, setStartRiver] = useState(null);\n  const [endRiver, setEndRiver] = useState(null);\n  const [startStationName, setStartStationName] = useState(null);\n  const [endStationName, setEndStationName] = useState(null);\n  const [interpPoints, setInterpPoints] = useState([]);\n  const [interpLoading, setInterpLoading] = useState(false);\n  const [sampleCount, setSampleCount] = useState(10);\n  const [forceIndexMedians, setForceIndexMedians] = useState(false);\n  const [mapInst, setMapInst] = useState(null);\n  function MapClickHandler({\n    onMapClick\n  }) {\n    _s2();\n    useMapEvents({\n      click: e => {\n        onMapClick && onMapClick({\n          latitude: e.latlng.lat,\n          longitude: e.latlng.lng\n        });\n      }\n    });\n    return null;\n  }\n  _s2(MapClickHandler, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n    return [useMapEvents];\n  });\n  function getParameterStatus(param, value) {\n    if (value === null || value === undefined) return {\n      cls: 'status-na',\n      label: 'N/A'\n    };\n    if (/pH/i.test(param)) {\n      const n = Number(value);\n      if (isNaN(n)) return {\n        cls: 'status-na',\n        label: String(value)\n      };\n      if (n >= 6 && n <= 8) return {\n        cls: 'status-good',\n        label: 'OK'\n      };\n      if (n >= 5 && n < 6 || n > 8 && n <= 9) return {\n        cls: 'status-warn',\n        label: 'Borderline'\n      };\n      return {\n        cls: 'status-bad',\n        label: 'Poor'\n      };\n    }\n    if (/DO/i.test(param)) {\n      const n = Number(value);\n      if (isNaN(n)) return {\n        cls: 'status-na',\n        label: String(value)\n      };\n      if (n >= 5) return {\n        cls: 'status-good',\n        label: 'OK'\n      };\n      if (n >= 3) return {\n        cls: 'status-warn',\n        label: 'Low'\n      };\n      return {\n        cls: 'status-bad',\n        label: 'Very Low'\n      };\n    }\n    if (/BOD/i.test(param)) {\n      const n = Number(value);\n      if (isNaN(n)) return {\n        cls: 'status-na',\n        label: String(value)\n      };\n      if (n <= 3) return {\n        cls: 'status-good',\n        label: 'OK'\n      };\n      if (n <= 6) return {\n        cls: 'status-warn',\n        label: 'Elevated'\n      };\n      return {\n        cls: 'status-bad',\n        label: 'High'\n      };\n    }\n    return {\n      cls: 'status-unknown',\n      label: String(value)\n    };\n  }\n\n  // fetch predictions for month/year whenever date changes\n  useEffect(() => {\n    const [y, m] = selectedDate.slice(0, 7).split('-').map(Number);\n    let mounted = true;\n    (async () => {\n      try {\n        const res = await fetch(`${API_BASE}/predict_all?month=${m}&year=${y}`);\n        const body = await res.json();\n        const byId = {};\n        for (const item of body.predictions || []) {\n          // try match by id or location name\n          const loc = puneLocations.find(l => l.id === item.id || l.name === item.location || l.name === item.location_name);\n          if (loc) byId[loc.id] = item.values || item;\n        }\n        if (mounted) setPredictions(byId);\n      } catch (err) {\n        // ignore\n      }\n    })();\n    return () => {\n      mounted = false;\n    };\n  }, [selectedDate]);\n  const handleMapClick = useCallback(pt => {\n    if (selectMode === 'start') setStartPoint(pt);else if (selectMode === 'end') setEndPoint(pt);\n  }, [selectMode]);\n  const handleMarkerClick = loc => {\n    // In interpolate route, if user is picking start or end, set them from known station\n    if (route === 'interpolate' && selectMode === 'start') {\n      const coord = loc.coordinate || loc;\n      setStartPoint({\n        latitude: coord.latitude,\n        longitude: coord.longitude\n      });\n      setStartInput(`${coord.latitude.toFixed(6)}, ${coord.longitude.toFixed(6)}`);\n      setStartRiver(loc.river || null);\n      setStartStationName(loc.name || null);\n      setSelectMode(null);\n      setInterpPoints([]);\n      return;\n    }\n    if (route === 'interpolate' && selectMode === 'end') {\n      // guard: do not allow picking end on a different river than start\n      if (startRiver && loc.river && startRiver !== loc.river) {\n        alert('Please pick an end station on the same river as the start station.');\n        setSelectMode(null);\n        return;\n      }\n      const coord = loc.coordinate || loc;\n      setEndPoint({\n        latitude: coord.latitude,\n        longitude: coord.longitude\n      });\n      setEndInput(`${coord.latitude.toFixed(6)}, ${coord.longitude.toFixed(6)}`);\n      setEndRiver(loc.river || null);\n      setEndStationName(loc.name || null);\n      setSelectMode(null);\n      setInterpPoints([]);\n      return;\n    }\n    // default behaviour: open details\n    setSelected(loc);\n    // attach available prediction\n    const pred = predictions[loc.id] || null;\n    setSelected(prev => ({\n      ...loc,\n      prediction: pred\n    }));\n  };\n  const performInterpolation = async () => {\n    if (!startPoint || !endPoint) return alert('Pick start and end');\n    setInterpLoading(true);\n    // use the provided sampled river segment (lat/lon array) and ask server to pick/sample across it\n    // find nearest indices in preSampledRiver for the selected start/end and slice that array\n    const nearestIndex = pt => {\n      let best = 0,\n        bestD = Infinity;\n      for (let i = 0; i < preSampledRiver.length; i++) {\n        const dlat = preSampledRiver[i].latitude - pt.latitude;\n        const dlng = preSampledRiver[i].longitude - pt.longitude;\n        const d2 = dlat * dlat + dlng * dlng;\n        if (d2 < bestD) {\n          bestD = d2;\n          best = i;\n        }\n      }\n      return best;\n    };\n    const si = nearestIndex(startPoint),\n      ei = nearestIndex(endPoint);\n    const a = Math.min(si, ei),\n      b = Math.max(si, ei);\n    const sub = preSampledRiver.slice(a, b + 1);\n    const d = new Date(selectedDate);\n    const body = {\n      locations: sub,\n      points: sampleCount,\n      month: d.getMonth() + 1,\n      year: d.getFullYear(),\n      pick_from_input: true,\n      blend: 'river'\n    };\n    // include explicit station-name override only when user forces index medians\n    if (forceIndexMedians && startStationName && endStationName) {\n      body.start_station_name = startStationName;\n      body.end_station_name = endStationName;\n    }\n    try {\n      const res = await fetch(`${API_BASE}/interpolate_predict`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      const jb = await res.json();\n      if (jb.error) return alert('Server: ' + jb.error);\n      const pts = jb.predictions || [];\n      setInterpPoints(pts);\n      // fit map to interpolated points if we have a map instance\n      try {\n        if (mapInst && pts && pts.length > 0) {\n          const latlngs = pts.map(p => [p.latitude, p.longitude]);\n          mapInst.fitBounds(latlngs, {\n            padding: [40, 40]\n          });\n        }\n      } catch (e) {}\n    } catch (err) {\n      alert('Request failed');\n    } finally {\n      setInterpLoading(false);\n    }\n  };\n  function haversineKm(a, b) {\n    if (!a || !b) return 0;\n    const toRad = v => v * Math.PI / 180;\n    const R = 6371;\n    const dLat = toRad(b.latitude - a.latitude);\n    const dLon = toRad(b.longitude - a.longitude);\n    const lat1 = toRad(a.latitude);\n    const lat2 = toRad(b.latitude);\n    const sinDlat = Math.sin(dLat / 2),\n      sinDlon = Math.sin(dLon / 2);\n    const aa = sinDlat * sinDlat + sinDlon * sinDlon * Math.cos(lat1) * Math.cos(lat2);\n    const c = 2 * Math.atan2(Math.sqrt(aa), Math.sqrt(1 - aa));\n    return R * c;\n  }\n  const copyCoord = pt => {\n    if (!pt) return;\n    const s = `${pt.latitude.toFixed(6)}, ${pt.longitude.toFixed(6)}`;\n    try {\n      navigator.clipboard && navigator.clipboard.writeText(s);\n    } catch (e) {}\n  };\n  const clearStart = () => {\n    setStartPoint(null);\n    setInterpPoints([]);\n  };\n  const clearEnd = () => {\n    setEndPoint(null);\n    setInterpPoints([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main\",\n      style: {\n        display: 'flex',\n        gap: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: route === 'home' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"home-page\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"home-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"home-hero\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"logo\",\n                children: /*#__PURE__*/_jsxDEV(FaWater, {\n                  size: 28,\n                  color: \"#fff\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: \"RiverWatch \\u2014 Pune Rivers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"muted\",\n                  children: \"Water quality predictions for Pune rivers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Explore predicted water quality across the Mula, Mutha and Mula-Mutha rivers. Use Predict for single-point queries and Interpolate to sample between two points.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"columns\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col rivers\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Rivers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"river-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"river-name river-mula\",\n                    children: \"Mula\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"river-desc\",\n                    children: [(riverDescriptions['Mula'] || '').split('. ')[0], \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"river-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"river-name river-mutha\",\n                    children: \"Mutha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"river-desc\",\n                    children: [(riverDescriptions['Mutha'] || '').split('. ')[0], \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"river-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"river-name river-mula-mutha\",\n                    children: \"Mula-Mutha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"river-desc\",\n                    children: [(riverDescriptions['Mula-Mutha'] || '').split('. ')[0], \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"About\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"This site reproduces the mobile water-quality model and exposes the same prediction logic on the web. It runs the trained model server-side and offers interpolation that follows river polylines so you can sample predicted values between two points. Use the map to select monitoring sites, compare parameter compliance across locations, and run multi-point interpolation to see spatial patterns for pH, dissolved oxygen, BOD and bacterial indicators across the river network.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col params\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Parameters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"param-names\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"pH\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 27\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"desc\",\n                      children: \"Measures water acidity and alkalinity on a scale of 0-14, with 7 being neutral. Deviations indicate pollution from industrial discharge or organic decomposition affecting aquatic life.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 47\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"DO\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 27\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"desc\",\n                      children: \"Dissolved oxygen levels in milligrams per liter, essential for fish and aquatic organisms. Low DO levels signal organic pollution and eutrophication from sewage or agricultural runoff.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 47\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"BOD\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 27\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"desc\",\n                      children: \"Biological oxygen demand measures oxygen consumed by microorganisms breaking down organic matter. High BOD indicates sewage contamination and reduces available oxygen for aquatic life.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 48\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"FC/TC\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 27\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"desc\",\n                      children: \"Fecal and total coliform bacteria counts per 100ml, indicating sewage contamination and potential health risks. High levels suggest inadequate wastewater treatment and pose serious public health concerns.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 50\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"home-cta\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setRoute('predict'),\n                children: \"Go to Predict\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"secondary\",\n                onClick: () => setRoute('interpolate'),\n                children: \"Go to Interpolate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-content\",\n          style: {\n            height: 'calc(100vh - 36px)'\n          },\n          children: /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: [puneCenter.latitude, puneCenter.longitude],\n            zoom: puneCenter.zoom,\n            className: \"map\",\n            whenCreated: m => setMapInst(m),\n            style: {\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MapClickHandler, {\n              onMapClick: handleMapClick\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this), puneLocations.map(loc => {\n              const pred = predictions[loc.id] || null;\n              const entries = pred ? canonicalizePredictionEntries(pred) : [];\n              const overallEntry = entries.find(([k]) => String(k).toLowerCase() === 'water quality');\n              const overallValue = overallEntry ? cleanQualityString(String(overallEntry[1])) : null;\n              const overallStatus = overallEntry ? getParameterStatus('Water Quality', overallEntry[1]) : null;\n              return /*#__PURE__*/_jsxDEV(CircleMarker, {\n                center: [loc.coordinate.latitude, loc.coordinate.longitude],\n                pathOptions: {\n                  color: getRiverColor(loc.river),\n                  fillColor: getRiverColor(loc.river),\n                  fillOpacity: 0.9\n                },\n                radius: 8,\n                eventHandlers: {\n                  click: () => handleMarkerClick(loc)\n                },\n                children: /*#__PURE__*/_jsxDEV(Popup, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"popup-card\",\n                    style: {\n                      minWidth: 260\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"popup-header\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"popup-title\",\n                          children: cleanQualityString(loc.name)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 346,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"popup-sub muted\",\n                          style: {\n                            display: 'flex',\n                            gap: 8,\n                            alignItems: 'center',\n                            marginTop: 8\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: `river-tag ${cleanQualityString(loc.river).replace(/\\s+/g, '-').toLowerCase()}`,\n                            children: cleanQualityString(loc.river)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 348,\n                            columnNumber: 33\n                          }, this), overallValue ? /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `badge ${overallStatus ? overallStatus.cls : 'status-na'}`,\n                            children: overallValue\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 349,\n                            columnNumber: 49\n                          }, this) : null]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 347,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 27\n                    }, this), pred ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"popup-grid\",\n                      children: entries.filter(([k]) => {\n                        const key = String(k).toLowerCase();\n                        return !['location', 'location_name', 'river', 'month', 'year', 'id', 'water quality'].includes(key);\n                      }).map(([k, v]) => {\n                        const value = formatValue(k, v);\n                        const s = getParameterStatus(k, v);\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"param-row\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"param-name\",\n                            children: k\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 366,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"param-value\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"val-text\",\n                              children: value\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 368,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: `badge ${s.cls}`,\n                              style: {\n                                marginLeft: 8\n                              },\n                              children: s.label\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 369,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 367,\n                            columnNumber: 39\n                          }, this)]\n                        }, k, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 365,\n                          columnNumber: 37\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginTop: 8\n                      },\n                      children: \"Loading...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this)\n              }, loc.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this);\n            }), route === 'interpolate' && startPoint ? /*#__PURE__*/_jsxDEV(Marker, {\n              position: [startPoint.latitude, startPoint.longitude],\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: \"Start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 121\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 58\n            }, this) : null, route === 'interpolate' && endPoint ? /*#__PURE__*/_jsxDEV(Marker, {\n              position: [endPoint.latitude, endPoint.longitude],\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: \"End\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 115\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 56\n            }, this) : null, route === 'interpolate' && interpPoints.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Polyline, {\n                positions: interpPoints.map(p => [p.latitude, p.longitude]),\n                pathOptions: {\n                  color: '#0077b6',\n                  weight: 3,\n                  opacity: 0.7\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 21\n              }, this), interpPoints.map((pt, i) => /*#__PURE__*/_jsxDEV(CircleMarker, {\n                center: [pt.latitude, pt.longitude],\n                radius: 6,\n                pathOptions: {\n                  color: '#0077b6',\n                  fillColor: '#00b4d8',\n                  fillOpacity: 0.9\n                },\n                children: /*#__PURE__*/_jsxDEV(Popup, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      minWidth: 220\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Interpolated\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 391,\n                          columnNumber: 38\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `badge ${getParameterStatus('Water Quality', pt['Water Quality']).cls}`,\n                        children: cleanQualityString(pt['Water Quality'])\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 31\n                    }, this), (() => {\n                      const rawPH = pt['pH'];\n                      const pHVal = rawPH === null || rawPH === undefined ? '—' : Number(rawPH).toFixed(3);\n                      const pHStatus = getParameterStatus('pH', pt['pH']);\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'flex',\n                          justifyContent: 'space-between',\n                          alignItems: 'center',\n                          marginTop: 8,\n                          borderTop: '1px solid #edf2f7',\n                          paddingTop: 8\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            fontSize: 13,\n                            color: '#334155',\n                            fontWeight: 700\n                          },\n                          children: \"pH\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 402,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: 8\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              fontSize: 18,\n                              fontWeight: 800,\n                              color: '#0b3b52'\n                            },\n                            children: pHVal\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 404,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `badge ${pHStatus.cls}`,\n                            children: pHStatus.label\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 405,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 403,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 401,\n                        columnNumber: 35\n                      }, this);\n                    })(), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginTop: 8\n                      },\n                      children: (() => {\n                        const entries = canonicalizePredictionEntries(pt);\n                        const find = substr => entries.find(([k]) => k && k.toLowerCase().includes(substr));\n                        const showOrder = [['pH', 'pH'], ['do', 'DO (mg/L)'], ['bod', 'BOD (mg/L)']];\n                        return showOrder.map(([substr, displayKey]) => {\n                          const ent = find(substr);\n                          if (!ent) return null;\n                          const [k, v] = ent;\n                          const s = getParameterStatus(k, v);\n                          return /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              display: 'flex',\n                              justifyContent: 'space-between',\n                              alignItems: 'center',\n                              marginTop: 6\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                color: '#334155'\n                              },\n                              children: displayKey\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 424,\n                              columnNumber: 51\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                display: 'flex',\n                                alignItems: 'center',\n                                gap: 8\n                              },\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  fontWeight: 700\n                                },\n                                children: formatValue(k, v)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 426,\n                                columnNumber: 53\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: `badge ${s.cls}`,\n                                children: s.label\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 427,\n                                columnNumber: 53\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 425,\n                              columnNumber: 51\n                            }, this)]\n                          }, k, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 423,\n                            columnNumber: 49\n                          }, this);\n                        });\n                      })()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 41\n                    }, this), pt && pt.t_frac !== undefined && pt.t_frac !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginTop: 8,\n                        fontSize: 12,\n                        color: '#64748b'\n                      },\n                      children: [\"Blend t: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: Number(pt.t_frac).toFixed(3)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 436,\n                        columnNumber: 105\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 436,\n                      columnNumber: 41\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 27\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), route !== 'home' && /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"detail-panel\",\n        style: {\n          width: 360\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: 8,\n            padding: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setRoute('home'),\n            className: \"small\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setRoute('interpolate'),\n            className: \"small primary\",\n            children: \"Interpolate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-calendar\",\n          children: /*#__PURE__*/_jsxDEV(Calendar, {\n            date: selectedDate,\n            onChange: d => setSelectedDate(d)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this), route === 'interpolate' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"controls-row\",\n              style: {\n                marginBottom: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectMode(selectMode === 'start' ? null : 'start'),\n                className: selectMode === 'start' ? 'active small primary' : '',\n                children: \"Pick Start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectMode(selectMode === 'end' ? null : 'end'),\n                className: selectMode === 'end' ? 'active small primary' : '',\n                children: \"Pick End\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectMode(null);\n                  setInterpPoints([]);\n                  setStartPoint(null);\n                  setEndPoint(null);\n                  setStartInput('');\n                  setEndInput('');\n                  setStartRiver(null);\n                  setEndRiver(null);\n                  setStartStationName(null);\n                  setEndStationName(null);\n                },\n                className: \"small\",\n                children: \"Reset\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: 8,\n                color: '#0b3b52',\n                fontSize: 13\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Pick stations only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 75\n              }, this), \" \\u2014 interpolation will use river-linear blending\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 12,\n                alignItems: 'center',\n                marginBottom: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  margin: 0,\n                  fontSize: 13,\n                  color: '#475569'\n                },\n                children: \"Points k:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input-box\",\n                type: \"number\",\n                min: 1,\n                max: 50,\n                value: sampleCount,\n                onChange: e => setSampleCount(Number(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginLeft: 'auto'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"small\",\n                  onClick: () => {\n                    setSampleCount(Math.min(50, (sampleCount || 1) + 1));\n                  },\n                  children: \"+1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"small\",\n                  onClick: () => {\n                    setSampleCount(Math.max(1, (sampleCount || 1) - 1));\n                  },\n                  style: {\n                    marginLeft: 6\n                  },\n                  children: \"-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coord-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"coord-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"coord-label\",\n                  children: \"Start\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"coord-input\",\n                  readOnly: route === 'interpolate',\n                  value: startInput || (startPoint ? `${startPoint.latitude.toFixed(6)}, ${startPoint.longitude.toFixed(6)}` : ''),\n                  onChange: e => setStartInput(e.target.value),\n                  onBlur: e => {\n                    if (route === 'interpolate') return; // disable manual entry while in interpolate mode\n                    const v = e.target.value.trim();\n                    if (!v) return;\n                    const parts = v.split(/[ ,]+/).map(x => x.trim()).filter(Boolean);\n                    if (parts.length >= 2) {\n                      const lat = Number(parts[0]);\n                      const lon = Number(parts[1]);\n                      if (!isNaN(lat) && !isNaN(lon)) setStartPoint({\n                        latitude: lat,\n                        longitude: lon\n                      });\n                    }\n                  },\n                  onKeyDown: e => {\n                    if (e.key === 'Enter') {\n                      e.target.blur();\n                    }\n                  },\n                  placeholder: \"lat, lon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"coord-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"small\",\n                  onClick: () => {\n                    copyCoord(startPoint);\n                  },\n                  disabled: !startPoint,\n                  children: /*#__PURE__*/_jsxDEV(FaCopy, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 113\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"small\",\n                  disabled: route === 'interpolate',\n                  onClick: async () => {\n                    try {\n                      const t = await navigator.clipboard.readText();\n                      setStartInput(t);\n                      const parts = t.split(/[ ,]+/).map(x => x.trim()).filter(Boolean);\n                      if (parts.length >= 2) {\n                        const lat = Number(parts[0]),\n                          lon = Number(parts[1]);\n                        if (!isNaN(lat) && !isNaN(lon)) setStartPoint({\n                          latitude: lat,\n                          longitude: lon\n                        });\n                      }\n                    } catch (e) {}\n                  },\n                  title: \"Paste from clipboard\",\n                  children: /*#__PURE__*/_jsxDEV(FaPaste, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 435\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"small\",\n                  onClick: () => {\n                    clearStart();\n                    setStartInput('');\n                    setStartRiver(null);\n                    setStartStationName(null);\n                  },\n                  disabled: !startPoint,\n                  style: {\n                    marginLeft: 6\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 194\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coord-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"coord-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"coord-label\",\n                  children: \"End\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"coord-input\",\n                  readOnly: route === 'interpolate',\n                  value: endInput || (endPoint ? `${endPoint.latitude.toFixed(6)}, ${endPoint.longitude.toFixed(6)}` : ''),\n                  onChange: e => setEndInput(e.target.value),\n                  onBlur: e => {\n                    if (route === 'interpolate') return; // disable manual entry while in interpolate mode\n                    const v = e.target.value.trim();\n                    if (!v) return;\n                    const parts = v.split(/[ ,]+/).map(x => x.trim()).filter(Boolean);\n                    if (parts.length >= 2) {\n                      const lat = Number(parts[0]);\n                      const lon = Number(parts[1]);\n                      if (!isNaN(lat) && !isNaN(lon)) setEndPoint({\n                        latitude: lat,\n                        longitude: lon\n                      });\n                    }\n                  },\n                  onKeyDown: e => {\n                    if (e.key === 'Enter') {\n                      e.target.blur();\n                    }\n                  },\n                  placeholder: \"lat, lon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"coord-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"small\",\n                  onClick: () => {\n                    copyCoord(endPoint);\n                  },\n                  disabled: !endPoint,\n                  children: /*#__PURE__*/_jsxDEV(FaCopy, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 109\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"small\",\n                  disabled: route === 'interpolate',\n                  onClick: async () => {\n                    try {\n                      const t = await navigator.clipboard.readText();\n                      setEndInput(t);\n                      const parts = t.split(/[ ,]+/).map(x => x.trim()).filter(Boolean);\n                      if (parts.length >= 2) {\n                        const lat = Number(parts[0]),\n                          lon = Number(parts[1]);\n                        if (!isNaN(lat) && !isNaN(lon)) setEndPoint({\n                          latitude: lat,\n                          longitude: lon\n                        });\n                      }\n                    } catch (e) {}\n                  },\n                  title: \"Paste from clipboard\",\n                  children: /*#__PURE__*/_jsxDEV(FaPaste, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 431\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"small\",\n                  onClick: () => {\n                    clearEnd();\n                    setEndInput('');\n                    setEndRiver(null);\n                    setEndStationName(null);\n                  },\n                  disabled: !endPoint,\n                  style: {\n                    marginLeft: 6\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 184\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"muted\",\n                children: [\"Distance: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  style: {\n                    color: '#233249'\n                  },\n                  children: startPoint && endPoint ? `${haversineKm(startPoint, endPoint).toFixed(2)} km` : '—'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 52\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8,\n                  marginLeft: 12\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: 12,\n                    color: '#475569'\n                  },\n                  children: forceIndexMedians ? 'Mode: Index medians (override)' : 'Mode: Distance/projection'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-primary\",\n                  onClick: performInterpolation,\n                  disabled: !startPoint || !endPoint || interpLoading,\n                  children: interpLoading ? 'Interpolating…' : 'Interpolate'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-date\",\n            children: [\"Selected date: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: new Date(selectedDate).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 59\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this), selected ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: cleanQualityString(selected.name)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"muted\",\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `river-tag ${cleanQualityString(selected.river).replace(/\\s+/g, '-').toLowerCase()}`,\n                  children: cleanQualityString(selected.river)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 24\n                }, this), \" \\u2022 \", selected.description]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this), selected.prediction ? (() => {\n                const entries = canonicalizePredictionEntries(selected.prediction);\n                const overall = entries.find(([k]) => String(k).toLowerCase() === 'water quality');\n                if (overall) {\n                  const s = getParameterStatus('Water Quality', overall[1]);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `badge ${s ? s.cls : 'status-na'}`,\n                    children: cleanQualityString(String(overall[1]))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 538,\n                    columnNumber: 30\n                  }, this);\n                }\n                return null;\n              })() : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                marginTop: 8\n              },\n              children: \"Prediction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this), selected.prediction ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: canonicalizePredictionEntries(selected.prediction).filter(([k]) => {\n                const key = String(k).toLowerCase();\n                return !['location', 'location_name', 'river', 'month', 'year', 'id', 'water quality'].includes(key);\n              }).map(([k, v]) => {\n                const value = formatValue(k, v);\n                const s = getParameterStatus(k, v);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inline-param-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"label\",\n                    children: k\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"value\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"val-text\",\n                      children: value\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 557,\n                      columnNumber: 52\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `badge ${s.cls}`,\n                      children: s.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 557,\n                      columnNumber: 91\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 29\n                  }, this)]\n                }, k, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 27\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"placeholder\",\n            style: {\n              marginTop: 12\n            },\n            children: \"Select a location on the map to see details here.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 278,\n    columnNumber: 5\n  }, this);\n}\n_s3(App, \"lz3xK78Jei/So5+WtifHGarNKGw=\");\n_c2 = App;\nfunction formatValue(key, value) {\n  if (value === null || value === undefined) return '—';\n  const n = Number(value);\n  if (!Number.isNaN(n)) {\n    if (/pH/i.test(key)) return n.toFixed(3);\n    if (/DO|BOD|FC|TC|MPN/i.test(key)) return n.toFixed(2);\n    return String(n);\n  }\n  return String(value);\n}\nfunction cleanQualityString(quality) {\n  if (quality === null || quality === undefined) return quality;\n  let s = String(quality).trim();\n  if (!s) return s;\n  // normalize whitespace\n  s = s.replace(/\\s+/g, ' ');\n  // remove duplicated trailing punctuation and normalize\n  s = s.replace(/[\\s\\-–_:;,.]+$/g, '').trim();\n  // collapse exact repeated phrases like \"X X\" or \"X X X\" -> \"X\"\n  const m = s.match(/^(.*?)\\s+(?:\\1\\s+)*\\1$/i);\n  if (m && m[1]) return m[1].trim();\n  // fallback: if full-string repeated twice (older regex)\n  const m2 = s.match(/^(.*)\\s+\\1$/i);\n  return m2 ? m2[1].trim() : s;\n}\nfunction canonicalizePredictionEntries(pred) {\n  // returns array of [key, value] with keys normalized and duplicates collapsed (last value wins)\n  if (!pred || typeof pred !== 'object') return [];\n  const map = new Map();\n  for (const [k, v] of Object.entries(pred)) {\n    const key = String(k).trim();\n    const norm = key.toLowerCase().replace(/\\s+/g, ' ');\n    // map some common aliases\n    const canonical = norm === 'water quality' ? 'water quality' : norm;\n    map.set(canonical, {\n      key: key,\n      value: v\n    });\n  }\n  // return in insertion order but using original key casing for display\n  return Array.from(map.values()).map(x => [x.key, x.value]);\n}\nvar _c, _c2;\n$RefreshReg$(_c, \"Calendar\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","MapContainer","TileLayer","Marker","Popup","CircleMarker","Polyline","Tooltip","useMapEvents","L","FaWater","puneLocations","puneCenter","getRiverColor","riverPaths","preSampledRiver","riverDescriptions","FaCopy","FaTrash","FaPaste","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","process","env","REACT_APP_API_BASE","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","Calendar","date","onChange","_s","base","Date","viewMonth","setViewMonth","getMonth","viewYear","setViewYear","getFullYear","d","startOfMonth","y","m","daysInMonth","getDate","monthNames","Array","from","length","_","i","toLocaleString","undefined","month","getYearOptions","center","cy","start","Math","max","end","arr","push","weeks","firstDay","getDay","leading","total","rows","ceil","day","r","week","c","selectDate","iso","String","padStart","selected","className","style","padding","children","display","justifyContent","alignItems","gap","onClick","v","fileName","_jsxFileName","lineNumber","columnNumber","value","e","Number","target","borderRadius","minWidth","background","color","map","mn","idx","gridTemplateColumns","marginTop","fontSize","fontWeight","textAlign","marginBottom","inMonth","isSelected","border","cursor","toISOString","td","_c","App","_s3","_s2","$RefreshSig$","route","setRoute","selectedDate","setSelectedDate","predictions","setPredictions","setSelected","selectMode","setSelectMode","startPoint","setStartPoint","endPoint","setEndPoint","startInput","setStartInput","endInput","setEndInput","startRiver","setStartRiver","endRiver","setEndRiver","startStationName","setStartStationName","endStationName","setEndStationName","interpPoints","setInterpPoints","interpLoading","setInterpLoading","sampleCount","setSampleCount","forceIndexMedians","setForceIndexMedians","mapInst","setMapInst","MapClickHandler","onMapClick","click","latitude","latlng","lat","longitude","lng","getParameterStatus","param","cls","label","test","n","isNaN","slice","split","mounted","res","fetch","body","json","byId","item","loc","find","l","id","name","location","location_name","values","err","handleMapClick","pt","handleMarkerClick","coord","coordinate","toFixed","river","alert","pred","prev","prediction","performInterpolation","nearestIndex","best","bestD","Infinity","dlat","dlng","d2","si","ei","a","min","b","sub","locations","points","year","pick_from_input","blend","start_station_name","end_station_name","method","headers","JSON","stringify","jb","error","pts","latlngs","p","fitBounds","haversineKm","toRad","PI","R","dLat","dLon","lat1","lat2","sinDlat","sin","sinDlon","aa","cos","atan2","sqrt","copyCoord","s","navigator","clipboard","writeText","clearStart","clearEnd","flex","size","height","zoom","whenCreated","url","entries","canonicalizePredictionEntries","overallEntry","k","toLowerCase","overallValue","cleanQualityString","overallStatus","pathOptions","fillColor","fillOpacity","radius","eventHandlers","replace","filter","key","includes","formatValue","marginLeft","position","positions","weight","opacity","rawPH","pHVal","pHStatus","borderTop","paddingTop","substr","showOrder","displayKey","ent","t_frac","width","margin","type","readOnly","onBlur","trim","parts","x","Boolean","lon","onKeyDown","blur","placeholder","disabled","t","readText","title","toLocaleDateString","description","overall","_c2","quality","match","m2","Map","Object","norm","canonical","set","$RefreshReg$"],"sources":["F:/Download/pph/web/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, CircleMarker, Polyline, Tooltip, useMapEvents } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { FaWater } from 'react-icons/fa';\r\n\r\nimport { puneLocations, puneCenter, getRiverColor, riverPaths, preSampledRiver, riverDescriptions } from './locations';\r\nimport { FaCopy, FaTrash, FaPaste } from 'react-icons/fa';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:8000';\r\n\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\r\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\r\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\r\n});\r\n\r\nfunction Calendar({ date, onChange }) {\r\n  const base = date ? new Date(date) : new Date();\r\n  const [viewMonth, setViewMonth] = React.useState(base.getMonth());\r\n  const [viewYear, setViewYear] = React.useState(base.getFullYear());\r\n\r\n  React.useEffect(() => {\r\n    const d = date ? new Date(date) : new Date();\r\n    setViewMonth(d.getMonth());\r\n    setViewYear(d.getFullYear());\r\n  }, [date]);\r\n\r\n  const startOfMonth = (y, m) => new Date(y, m, 1);\r\n  const daysInMonth = (y, m) => new Date(y, m + 1, 0).getDate();\r\n\r\n  const monthNames = Array.from({length:12}, (_,i)=> new Date(2000, i).toLocaleString(undefined, { month: 'long' }));\r\n  const getYearOptions = (center) => {\r\n    const cy = (new Date()).getFullYear();\r\n    const start = Math.max(center - 100, 1900);\r\n    const end = Math.max(center + 100, cy + 100);\r\n    const arr = [];\r\n    for (let y = start; y <= end; y++) arr.push(y);\r\n    return arr;\r\n  };\r\n\r\n  const weeks = [];\r\n  const firstDay = startOfMonth(viewYear, viewMonth).getDay();\r\n  const leading = (firstDay + 6) % 7;\r\n  const total = leading + daysInMonth(viewYear, viewMonth);\r\n  const rows = Math.ceil(total / 7);\r\n\r\n  let day = 1 - leading;\r\n  for (let r = 0; r < rows; r++) {\r\n    const week = [];\r\n    for (let c = 0; c < 7; c++, day++) {\r\n      week.push(new Date(viewYear, viewMonth, day));\r\n    }\r\n    weeks.push(week);\r\n  }\r\n\r\n  const selectDate = (d) => {\r\n    const iso = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\r\n    onChange && onChange(iso);\r\n  };\r\n\r\n  const selected = date ? new Date(date) : null;\r\n\r\n  return (\r\n    <div className=\"inline-calendar\" style={{padding:8}}>\r\n      <div className=\"cal-head\" style={{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'6px 4px',gap:8}}>\r\n        <button className=\"small\" onClick={() => { const m = viewMonth - 1; if (m < 0) { setViewYear(v => v - 1); setViewMonth(11); } else setViewMonth(m); }}>{'◀'}</button>\r\n        <div style={{display:'flex',alignItems:'center',gap:8}}>\r\n          <select className=\"cal-select\" value={viewMonth} onChange={e=>setViewMonth(Number(e.target.value))} aria-label=\"Select month\" style={{padding:6,borderRadius:6,minWidth:130,background:'#fff',color:'#0b3b52'}}>\r\n            {monthNames.map((mn,idx)=> <option key={mn} value={idx}>{mn}</option>)}\r\n          </select>\r\n          <select className=\"cal-select\" value={viewYear} onChange={e=>setViewYear(Number(e.target.value))} aria-label=\"Select year\" style={{padding:6,borderRadius:6,minWidth:110,background:'#fff',color:'#0b3b52'}}>\r\n            {getYearOptions(viewYear).map(y => <option key={y} value={y}>{y}</option>)}\r\n          </select>\r\n        </div>\r\n        <button className=\"small\" onClick={() => { const m = viewMonth + 1; if (m > 11) { setViewYear(v => v + 1); setViewMonth(0); } else setViewMonth(m); }}>{'▶'}</button>\r\n      </div>\r\n\r\n      <div style={{display:'grid',gridTemplateColumns:'repeat(7,1fr)',gap:4,marginTop:8,color:'#64748b',fontSize:12,fontWeight:700,textAlign:'center'}}>\r\n        {['Mo','Tu','We','Th','Fr','Sa','Su'].map(d=> <div key={d}>{d}</div>)}\r\n      </div>\r\n\r\n      <div style={{marginTop:8}}>\r\n        {weeks.map((week, i) => (\r\n          <div key={i} style={{display:'grid',gridTemplateColumns:'repeat(7,1fr)',gap:4,marginBottom:4}}>\r\n            {week.map((d) => {\r\n              const inMonth = d.getMonth() === viewMonth;\r\n              const isSelected = selected && d.getFullYear() === selected.getFullYear() && d.getMonth() === selected.getMonth() && d.getDate() === selected.getDate();\r\n              return (\r\n                <button key={d.toISOString()} onClick={() => inMonth && selectDate(d)} style={{padding:10,borderRadius:6,border:'none',background: isSelected ? 'var(--primary)' : (inMonth ? '#f8fafc' : 'transparent'),color: isSelected ? '#fff' : (inMonth ? '#0b3b52' : '#94a3b8'),cursor: inMonth ? 'pointer' : 'default'}}>{d.getDate()}</button>\r\n              );\r\n            })}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"cal-footer\" style={{padding:8,marginTop:6}}>\r\n        <button onClick={() => { const td = new Date(); const iso = `${td.getFullYear()}-${String(td.getMonth() + 1).padStart(2, '0')}-${String(td.getDate()).padStart(2, '0')}`; setViewMonth(td.getMonth()); setViewYear(td.getFullYear()); onChange && onChange(iso); }}>Today</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  const [route, setRoute] = useState('home');\r\n  const [selectedDate, setSelectedDate] = useState(() => { const d = new Date(); return `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`; });\r\n  const [predictions, setPredictions] = useState({});\r\n  const [selected, setSelected] = useState(null);\r\n  const [selectMode, setSelectMode] = useState(null);\r\n  const [startPoint, setStartPoint] = useState(null);\r\n  const [endPoint, setEndPoint] = useState(null);\r\n  const [startInput, setStartInput] = useState('');\r\n  const [endInput, setEndInput] = useState('');\r\n  const [startRiver, setStartRiver] = useState(null);\r\n  const [endRiver, setEndRiver] = useState(null);\r\n  const [startStationName, setStartStationName] = useState(null);\r\n  const [endStationName, setEndStationName] = useState(null);\r\n  const [interpPoints, setInterpPoints] = useState([]);\r\n  const [interpLoading, setInterpLoading] = useState(false);\r\n  const [sampleCount, setSampleCount] = useState(10);\r\n  const [forceIndexMedians, setForceIndexMedians] = useState(false);\r\n  const [mapInst, setMapInst] = useState(null);\r\n\r\n  function MapClickHandler({ onMapClick }) {\r\n    useMapEvents({ click: (e) => { onMapClick && onMapClick({ latitude: e.latlng.lat, longitude: e.latlng.lng }); } });\r\n    return null;\r\n  }\r\n\r\n  function getParameterStatus(param, value) {\r\n    if (value === null || value === undefined) return {cls: 'status-na', label: 'N/A'};\r\n    if (/pH/i.test(param)){\r\n      const n = Number(value);\r\n      if (isNaN(n)) return {cls:'status-na', label:String(value)};\r\n      if (n>=6 && n<=8) return {cls:'status-good', label:'OK'};\r\n      if ((n>=5 && n<6)||(n>8&&n<=9)) return {cls:'status-warn', label:'Borderline'};\r\n      return {cls:'status-bad', label:'Poor'};\r\n    }\r\n    if (/DO/i.test(param)){\r\n      const n = Number(value); if (isNaN(n)) return {cls:'status-na', label:String(value)}; if (n>=5) return {cls:'status-good', label:'OK'}; if (n>=3) return {cls:'status-warn', label:'Low'}; return {cls:'status-bad', label:'Very Low'};\r\n    }\r\n    if (/BOD/i.test(param)){\r\n      const n = Number(value); if (isNaN(n)) return {cls:'status-na', label:String(value)}; if (n<=3) return {cls:'status-good', label:'OK'}; if (n<=6) return {cls:'status-warn', label:'Elevated'}; return {cls:'status-bad', label:'High'};\r\n    }\r\n    return {cls:'status-unknown', label:String(value)};\r\n  }\r\n\r\n\r\n  // fetch predictions for month/year whenever date changes\r\n  useEffect(() => {\r\n    const [y, m] = selectedDate.slice(0,7).split('-').map(Number);\r\n    let mounted = true;\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(`${API_BASE}/predict_all?month=${m}&year=${y}`);\r\n        const body = await res.json();\r\n        const byId = {};\r\n        for (const item of (body.predictions || [])) {\r\n          // try match by id or location name\r\n          const loc = puneLocations.find(l => l.id === item.id || l.name === item.location || l.name === item.location_name);\r\n          if (loc) byId[loc.id] = item.values || item;\r\n        }\r\n        if (mounted) setPredictions(byId);\r\n      } catch (err) {\r\n        // ignore\r\n      }\r\n    })();\r\n    return () => { mounted = false; };\r\n  }, [selectedDate]);\r\n\r\n  const handleMapClick = useCallback((pt) => {\r\n    if (selectMode === 'start') setStartPoint(pt);\r\n    else if (selectMode === 'end') setEndPoint(pt);\r\n  }, [selectMode]);\r\n\r\n  const handleMarkerClick = (loc) => {\r\n    // In interpolate route, if user is picking start or end, set them from known station\r\n    if (route === 'interpolate' && selectMode === 'start') {\r\n      const coord = loc.coordinate || loc;\r\n      setStartPoint({ latitude: coord.latitude, longitude: coord.longitude });\r\n      setStartInput(`${coord.latitude.toFixed(6)}, ${coord.longitude.toFixed(6)}`);\r\n      setStartRiver(loc.river || null);\r\n  setStartStationName(loc.name || null);\r\n      setSelectMode(null);\r\n      setInterpPoints([]);\r\n      return;\r\n    }\r\n    if (route === 'interpolate' && selectMode === 'end') {\r\n      // guard: do not allow picking end on a different river than start\r\n      if (startRiver && loc.river && startRiver !== loc.river) {\r\n        alert('Please pick an end station on the same river as the start station.');\r\n        setSelectMode(null);\r\n        return;\r\n      }\r\n      const coord = loc.coordinate || loc;\r\n      setEndPoint({ latitude: coord.latitude, longitude: coord.longitude });\r\n      setEndInput(`${coord.latitude.toFixed(6)}, ${coord.longitude.toFixed(6)}`);\r\n      setEndRiver(loc.river || null);\r\n  setEndStationName(loc.name || null);\r\n      setSelectMode(null);\r\n      setInterpPoints([]);\r\n      return;\r\n    }\r\n    // default behaviour: open details\r\n    setSelected(loc);\r\n    // attach available prediction\r\n    const pred = predictions[loc.id] || null;\r\n    setSelected(prev => ({...loc, prediction: pred}));\r\n  };\r\n\r\n  const performInterpolation = async () => {\r\n  if (!startPoint || !endPoint) return alert('Pick start and end');\r\n  setInterpLoading(true);\r\n    // use the provided sampled river segment (lat/lon array) and ask server to pick/sample across it\r\n    // find nearest indices in preSampledRiver for the selected start/end and slice that array\r\n    const nearestIndex = (pt) => {\r\n      let best = 0, bestD = Infinity;\r\n      for (let i=0;i<preSampledRiver.length;i++){\r\n        const dlat = preSampledRiver[i].latitude - pt.latitude;\r\n        const dlng = preSampledRiver[i].longitude - pt.longitude;\r\n        const d2 = dlat*dlat + dlng*dlng;\r\n        if (d2 < bestD){ bestD = d2; best = i; }\r\n      }\r\n      return best;\r\n    };\r\n    const si = nearestIndex(startPoint), ei = nearestIndex(endPoint);\r\n    const a = Math.min(si, ei), b = Math.max(si, ei);\r\n    const sub = preSampledRiver.slice(a, b+1);\r\n    const d = new Date(selectedDate);\r\n    const body = { locations: sub, points: sampleCount, month: d.getMonth()+1, year: d.getFullYear(), pick_from_input: true, blend: 'river' };\r\n    // include explicit station-name override only when user forces index medians\r\n    if (forceIndexMedians && startStationName && endStationName) {\r\n      body.start_station_name = startStationName;\r\n      body.end_station_name = endStationName;\r\n    }\r\n    try {\r\n      const res = await fetch(`${API_BASE}/interpolate_predict`, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body) });\r\n      const jb = await res.json();\r\n      if (jb.error) return alert('Server: '+jb.error);\r\n      const pts = jb.predictions || [];\r\n      setInterpPoints(pts);\r\n      // fit map to interpolated points if we have a map instance\r\n      try{\r\n        if (mapInst && pts && pts.length > 0){\r\n          const latlngs = pts.map(p => [p.latitude, p.longitude]);\r\n          mapInst.fitBounds(latlngs, { padding: [40,40] });\r\n        }\r\n      }catch(e){}\r\n    } catch (err) { alert('Request failed'); }\r\n    finally { setInterpLoading(false); }\r\n  };\r\n\r\n  function haversineKm(a, b) {\r\n    if (!a || !b) return 0;\r\n    const toRad = v => v * Math.PI / 180;\r\n    const R = 6371;\r\n    const dLat = toRad(b.latitude - a.latitude);\r\n    const dLon = toRad(b.longitude - a.longitude);\r\n    const lat1 = toRad(a.latitude);\r\n    const lat2 = toRad(b.latitude);\r\n    const sinDlat = Math.sin(dLat/2), sinDlon = Math.sin(dLon/2);\r\n    const aa = sinDlat*sinDlat + sinDlon*sinDlon * Math.cos(lat1)*Math.cos(lat2);\r\n    const c = 2 * Math.atan2(Math.sqrt(aa), Math.sqrt(1-aa));\r\n    return R * c;\r\n  }\r\n\r\n  const copyCoord = (pt) => {\r\n    if (!pt) return;\r\n    const s = `${pt.latitude.toFixed(6)}, ${pt.longitude.toFixed(6)}`;\r\n    try { navigator.clipboard && navigator.clipboard.writeText(s); } catch(e) {}\r\n  };\r\n\r\n  const clearStart = () => { setStartPoint(null); setInterpPoints([]); };\r\n  const clearEnd = () => { setEndPoint(null); setInterpPoints([]); };\r\n\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <main className=\"main\" style={{display:'flex', gap:20}}>\r\n        <div style={{flex:1}}>\r\n          {route === 'home' ? (\r\n            <div className=\"home-page\">\r\n              <div className=\"home-card\">\r\n                <div className=\"home-hero\">\r\n                  <div className=\"logo\"><FaWater size={28} color=\"#fff\" /></div>\r\n                  <div>\r\n                    <h1>RiverWatch — Pune Rivers</h1>\r\n                    <p className=\"muted\">Water quality predictions for Pune rivers</p>\r\n                  </div>\r\n                </div>\r\n                <p>Explore predicted water quality across the Mula, Mutha and Mula-Mutha rivers. Use Predict for single-point queries and Interpolate to sample between two points.</p>\r\n                <div className=\"columns\">\r\n                  <div className=\"col rivers\">\r\n                    <h3>Rivers</h3>\r\n                    <div className=\"river-item\">\r\n                      <span className=\"river-name river-mula\">Mula</span>\r\n                      <div className=\"river-desc\">{(riverDescriptions['Mula'] || '').split('. ')[0]}.</div>\r\n                    </div>\r\n                    <div className=\"river-item\">\r\n                      <span className=\"river-name river-mutha\">Mutha</span>\r\n                      <div className=\"river-desc\">{(riverDescriptions['Mutha'] || '').split('. ')[0]}.</div>\r\n                    </div>\r\n                    <div className=\"river-item\">\r\n                      <span className=\"river-name river-mula-mutha\">Mula-Mutha</span>\r\n                      <div className=\"river-desc\">{(riverDescriptions['Mula-Mutha'] || '').split('. ')[0]}.</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col center\">\r\n                    <h3>About</h3>\r\n                    <p>This site reproduces the mobile water-quality model and exposes the same prediction logic on the web. It runs the trained model server-side and offers interpolation that follows river polylines so you can sample predicted values between two points. Use the map to select monitoring sites, compare parameter compliance across locations, and run multi-point interpolation to see spatial patterns for pH, dissolved oxygen, BOD and bacterial indicators across the river network.</p>\r\n                  </div>\r\n                  <div className=\"col params\">\r\n                    <h3>Parameters</h3>\r\n                    <ul className=\"param-names\">\r\n                      <li><strong>pH</strong> <div className=\"desc\">Measures water acidity and alkalinity on a scale of 0-14, with 7 being neutral. Deviations indicate pollution from industrial discharge or organic decomposition affecting aquatic life.</div></li>\r\n                      <li><strong>DO</strong> <div className=\"desc\">Dissolved oxygen levels in milligrams per liter, essential for fish and aquatic organisms. Low DO levels signal organic pollution and eutrophication from sewage or agricultural runoff.</div></li>\r\n                      <li><strong>BOD</strong> <div className=\"desc\">Biological oxygen demand measures oxygen consumed by microorganisms breaking down organic matter. High BOD indicates sewage contamination and reduces available oxygen for aquatic life.</div></li>\r\n                      <li><strong>FC/TC</strong> <div className=\"desc\">Fecal and total coliform bacteria counts per 100ml, indicating sewage contamination and potential health risks. High levels suggest inadequate wastewater treatment and pose serious public health concerns.</div></li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div className=\"home-cta\">\r\n                  <button onClick={() => setRoute('predict')}>Go to Predict</button>\r\n                  <button className=\"secondary\" onClick={() => setRoute('interpolate')}>Go to Interpolate</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"main-content\" style={{height: 'calc(100vh - 36px)'}}>\r\n              <MapContainer center={[puneCenter.latitude, puneCenter.longitude]} zoom={puneCenter.zoom} className=\"map\" whenCreated={m=>setMapInst(m)} style={{height:'100%'}}>\r\n                <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                <MapClickHandler onMapClick={handleMapClick} />\r\n                {puneLocations.map(loc => {\r\n                  const pred = predictions[loc.id] || null;\r\n                  const entries = pred ? canonicalizePredictionEntries(pred) : [];\r\n                  const overallEntry = entries.find(([k]) => String(k).toLowerCase() === 'water quality');\r\n                  const overallValue = overallEntry ? cleanQualityString(String(overallEntry[1])) : null;\r\n                  const overallStatus = overallEntry ? getParameterStatus('Water Quality', overallEntry[1]) : null;\r\n\r\n                  return (\r\n                    <CircleMarker key={loc.id} center={[loc.coordinate.latitude, loc.coordinate.longitude]} pathOptions={{ color: getRiverColor(loc.river), fillColor: getRiverColor(loc.river), fillOpacity:0.9 }} radius={8} eventHandlers={{ click: () => handleMarkerClick(loc) }}>\r\n                      <Popup>\r\n                        <div className=\"popup-card\" style={{minWidth:260}}>\r\n                          <div className=\"popup-header\">\r\n                            <div>\r\n                              <div className=\"popup-title\">{cleanQualityString(loc.name)}</div>\r\n                              <div className=\"popup-sub muted\" style={{display:'flex',gap:8,alignItems:'center',marginTop:8}}>\r\n                                <span className={`river-tag ${cleanQualityString(loc.river).replace(/\\s+/g, '-').toLowerCase()}`}>{cleanQualityString(loc.river)}</span>\r\n                                {overallValue ? <div className={`badge ${overallStatus ? overallStatus.cls : 'status-na'}`}>{overallValue}</div> : null}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {pred ? (\r\n                            <div className=\"popup-grid\">\r\n                              {entries\r\n                                .filter(([k]) => {\r\n                                  const key = String(k).toLowerCase();\r\n                                  return !['location','location_name','river','month','year','id','water quality'].includes(key);\r\n                                })\r\n                                .map(([k,v]) => {\r\n                                  const value = formatValue(k, v);\r\n                                  const s = getParameterStatus(k, v);\r\n                                  return (\r\n                                    <div className=\"param-row\" key={k}>\r\n                                      <div className=\"param-name\">{k}</div>\r\n                                      <div className=\"param-value\">\r\n                                        <span className=\"val-text\">{value}</span>\r\n                                        <span className={`badge ${s.cls}`} style={{marginLeft:8}}>{s.label}</span>\r\n                                      </div>\r\n                                    </div>\r\n                                  );\r\n                                })}\r\n                            </div>\r\n                          ) : <div style={{marginTop:8}}>Loading...</div>}\r\n                        </div>\r\n                      </Popup>\r\n                    </CircleMarker>\r\n                  );\r\n                })}\r\n                {route === 'interpolate' && startPoint ? <Marker position={[startPoint.latitude, startPoint.longitude]}><Popup>Start</Popup></Marker> : null}\r\n                {route === 'interpolate' && endPoint ? <Marker position={[endPoint.latitude, endPoint.longitude]}><Popup>End</Popup></Marker> : null}\r\n                {route === 'interpolate' && interpPoints.length > 0 && (\r\n                  <>\r\n                    <Polyline positions={interpPoints.map(p => [p.latitude, p.longitude])} pathOptions={{color:'#0077b6', weight:3, opacity:0.7}} />\r\n                    {interpPoints.map((pt, i) => (\r\n                      <CircleMarker key={i} center={[pt.latitude, pt.longitude]} radius={6} pathOptions={{color:'#0077b6', fillColor:'#00b4d8', fillOpacity:0.9}}>\r\n                          <Popup>\r\n                            <div style={{minWidth:220}}>\r\n                              <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>\r\n                                <div><strong>Interpolated</strong></div>\r\n                                <div className={`badge ${getParameterStatus('Water Quality', pt['Water Quality']).cls}`}>{cleanQualityString(pt['Water Quality'])}</div>\r\n                              </div>\r\n\r\n                              {/* prominent pH row */}\r\n                              {(() => {\r\n                                const rawPH = pt['pH'];\r\n                                const pHVal = (rawPH === null || rawPH === undefined) ? '—' : (Number(rawPH).toFixed(3));\r\n                                const pHStatus = getParameterStatus('pH', pt['pH']);\r\n                                return (\r\n                                  <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:8,borderTop:'1px solid #edf2f7',paddingTop:8}}>\r\n                                    <div style={{fontSize:13,color:'#334155',fontWeight:700}}>pH</div>\r\n                                    <div style={{display:'flex',alignItems:'center',gap:8}}>\r\n                                      <div style={{fontSize:18,fontWeight:800,color:'#0b3b52'}}>{pHVal}</div>\r\n                                      <div className={`badge ${pHStatus.cls}`}>{pHStatus.label}</div>\r\n                                    </div>\r\n                                  </div>\r\n                                );\r\n                              })()}\r\n\r\n                                        {/* show only the three parameters the user requested: pH, DO, BOD */}\r\n                                        <div style={{marginTop:8}}>\r\n                                          {(() => {\r\n                                            const entries = canonicalizePredictionEntries(pt);\r\n                                            const find = (substr) => entries.find(([k]) => k && k.toLowerCase().includes(substr));\r\n                                            const showOrder = [ ['pH','pH'], ['do','DO (mg/L)'], ['bod','BOD (mg/L)'] ];\r\n                                            return showOrder.map(([substr, displayKey]) => {\r\n                                              const ent = find(substr);\r\n                                              if (!ent) return null;\r\n                                              const [k, v] = ent;\r\n                                              const s = getParameterStatus(k, v);\r\n                                              return (\r\n                                                <div key={k} style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:6}}>\r\n                                                  <div style={{color:'#334155'}}>{displayKey}</div>\r\n                                                  <div style={{display:'flex',alignItems:'center',gap:8}}>\r\n                                                    <div style={{fontWeight:700}}>{formatValue(k,v)}</div>\r\n                                                    <div className={`badge ${s.cls}`}>{s.label}</div>\r\n                                                  </div>\r\n                                                </div>\r\n                                              );\r\n                                            });\r\n                                          })()}\r\n                                        </div>\r\n                                      {/* show t_frac if returned by server */}\r\n                                      {pt && (pt.t_frac !== undefined && pt.t_frac !== null) ? (\r\n                                        <div style={{marginTop:8,fontSize:12,color:'#64748b'}}>Blend t: <strong>{Number(pt.t_frac).toFixed(3)}</strong></div>\r\n                                      ) : null}\r\n                                    </div>\r\n                          </Popup>\r\n                        </CircleMarker>\r\n                    ))}\r\n                  </>\r\n                )}\r\n              </MapContainer>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* right sidebar: show only on inner pages (not on Home) */}\r\n        {route !== 'home' && (\r\n          <aside className=\"detail-panel\" style={{width:360}}>\r\n          <div style={{display:'flex', justifyContent:'flex-end', gap:8, padding:8}}>\r\n            <button onClick={()=>setRoute('home')} className=\"small\">Home</button>\r\n            <button onClick={()=>setRoute('interpolate')} className=\"small primary\">Interpolate</button>\r\n          </div>\r\n          <div className=\"detail-calendar\">\r\n            <Calendar date={selectedDate} onChange={d=>setSelectedDate(d)} />\r\n          </div>\r\n\r\n          {route === 'interpolate' && (\r\n            <div style={{marginTop:12}}>\r\n              <div className=\"control-card\">\r\n                <div className=\"controls-row\" style={{marginBottom:8}}>\r\n                  <button onClick={()=>setSelectMode(selectMode==='start'?null:'start')} className={selectMode==='start'?'active small primary':''}>Pick Start</button>\r\n                  <button onClick={()=>setSelectMode(selectMode==='end'?null:'end')} className={selectMode==='end'?'active small primary':''}>Pick End</button>\r\n                  <button onClick={()=>{ setSelectMode(null); setInterpPoints([]); setStartPoint(null); setEndPoint(null); setStartInput(''); setEndInput(''); setStartRiver(null); setEndRiver(null); setStartStationName(null); setEndStationName(null); }} className=\"small\">Reset</button>\r\n                </div>\r\n                <div style={{marginBottom:8,color:'#0b3b52',fontSize:13}}><strong>Pick stations only</strong> — interpolation will use river-linear blending</div>\r\n\r\n                <div style={{display:'flex',gap:12,alignItems:'center',marginBottom:10}}>\r\n                  <label style={{margin:0,fontSize:13,color:'#475569'}}>Points k:</label>\r\n                  <input className=\"input-box\" type=\"number\" min={1} max={50} value={sampleCount} onChange={e=>setSampleCount(Number(e.target.value))} />\r\n                  <div style={{marginLeft:'auto'}}>\r\n                    <button className=\"small\" onClick={()=>{ setSampleCount( Math.min(50, (sampleCount||1)+1) ); }}>+1</button>\r\n                    <button className=\"small\" onClick={()=>{ setSampleCount( Math.max(1, (sampleCount||1)-1) ); }} style={{marginLeft:6}}>-1</button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"coord-row\">\r\n                  <div className=\"coord-box\">\r\n                      <div className=\"coord-label\">Start</div>\r\n                      <input className=\"coord-input\" readOnly={route==='interpolate'} value={startInput || (startPoint?`${startPoint.latitude.toFixed(6)}, ${startPoint.longitude.toFixed(6)}`:'')} onChange={e=>setStartInput(e.target.value)} onBlur={(e)=>{\r\n                        if (route === 'interpolate') return; // disable manual entry while in interpolate mode\r\n                        const v = e.target.value.trim();\r\n                        if (!v) return;\r\n                        const parts = v.split(/[ ,]+/).map(x=>x.trim()).filter(Boolean);\r\n                        if (parts.length >= 2){ const lat = Number(parts[0]); const lon = Number(parts[1]); if (!isNaN(lat) && !isNaN(lon)) setStartPoint({latitude:lat, longitude:lon}); }\r\n                      }} onKeyDown={(e)=>{ if (e.key==='Enter'){ e.target.blur(); } }} placeholder=\"lat, lon\" />\r\n                    </div>\r\n                    <div className=\"coord-actions\">\r\n                      <button className=\"small\" onClick={()=>{ copyCoord(startPoint); }} disabled={!startPoint}><FaCopy/></button>\r\n                      <button className=\"small\" disabled={route==='interpolate'} onClick={async ()=>{ try { const t = await navigator.clipboard.readText(); setStartInput(t); const parts = t.split(/[ ,]+/).map(x=>x.trim()).filter(Boolean); if (parts.length>=2){ const lat=Number(parts[0]), lon=Number(parts[1]); if (!isNaN(lat)&&!isNaN(lon)) setStartPoint({latitude:lat, longitude:lon}); } } catch(e){} }} title=\"Paste from clipboard\"><FaPaste/></button>\r\n                      <button className=\"small\" onClick={()=>{ clearStart(); setStartInput(''); setStartRiver(null); setStartStationName(null); }} disabled={!startPoint} style={{marginLeft:6}}><FaTrash/></button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"coord-row\">\r\n                  <div className=\"coord-box\">\r\n                      <div className=\"coord-label\">End</div>\r\n                      <input className=\"coord-input\" readOnly={route==='interpolate'} value={endInput || (endPoint?`${endPoint.latitude.toFixed(6)}, ${endPoint.longitude.toFixed(6)}`:'')} onChange={e=>setEndInput(e.target.value)} onBlur={(e)=>{\r\n                        if (route === 'interpolate') return; // disable manual entry while in interpolate mode\r\n                        const v = e.target.value.trim();\r\n                        if (!v) return;\r\n                        const parts = v.split(/[ ,]+/).map(x=>x.trim()).filter(Boolean);\r\n                        if (parts.length >= 2){ const lat = Number(parts[0]); const lon = Number(parts[1]); if (!isNaN(lat) && !isNaN(lon)) setEndPoint({latitude:lat, longitude:lon}); }\r\n                      }} onKeyDown={(e)=>{ if (e.key==='Enter'){ e.target.blur(); } }} placeholder=\"lat, lon\" />\r\n                    </div>\r\n                    <div className=\"coord-actions\">\r\n                      <button className=\"small\" onClick={()=>{ copyCoord(endPoint); }} disabled={!endPoint}><FaCopy/></button>\r\n                      <button className=\"small\" disabled={route==='interpolate'} onClick={async ()=>{ try { const t = await navigator.clipboard.readText(); setEndInput(t); const parts = t.split(/[ ,]+/).map(x=>x.trim()).filter(Boolean); if (parts.length>=2){ const lat=Number(parts[0]), lon=Number(parts[1]); if (!isNaN(lat)&&!isNaN(lon)) setEndPoint({latitude:lat, longitude:lon}); } } catch(e){} }} title=\"Paste from clipboard\"><FaPaste/></button>\r\n                      <button className=\"small\" onClick={()=>{ clearEnd(); setEndInput(''); setEndRiver(null); setEndStationName(null); }} disabled={!endPoint} style={{marginLeft:6}}><FaTrash/></button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{marginTop:8,display:'flex',alignItems:'center',justifyContent:'space-between'}}>\r\n                  <div className=\"muted\">Distance: <strong style={{color:'#233249'}}>{(startPoint && endPoint)?`${haversineKm(startPoint,endPoint).toFixed(2)} km`:'—'}</strong></div>\r\n                  <div style={{display:'flex',alignItems:'center',gap:8,marginLeft:12}}>\r\n                    <div style={{fontSize:12,color:'#475569'}}>{forceIndexMedians ? 'Mode: Index medians (override)' : 'Mode: Distance/projection'}</div>\r\n                    <button className=\"btn-primary\" onClick={performInterpolation} disabled={!startPoint || !endPoint || interpLoading}>{interpLoading ? 'Interpolating…' : 'Interpolate'}</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{marginTop:16}}>\r\n            <div className=\"selected-date\">Selected date: <strong>{new Date(selectedDate).toLocaleDateString()}</strong></div>\r\n                {selected ? (\r\n              <div style={{marginTop:12}}>\r\n                <h3>{cleanQualityString(selected.name)}</h3>\r\n                <div className=\"muted\" style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\r\n                  <div><span className={`river-tag ${cleanQualityString(selected.river).replace(/\\s+/g, '-').toLowerCase()}`}>{cleanQualityString(selected.river)}</span> • {selected.description}</div>\r\n                  {selected.prediction ? (() => {\r\n                    const entries = canonicalizePredictionEntries(selected.prediction);\r\n                    const overall = entries.find(([k]) => String(k).toLowerCase() === 'water quality');\r\n                    if (overall) {\r\n                      const s = getParameterStatus('Water Quality', overall[1]);\r\n                      return <div className={`badge ${s ? s.cls : 'status-na'}`}>{cleanQualityString(String(overall[1]))}</div>;\r\n                    }\r\n                    return null;\r\n                  })() : null}\r\n                </div>\r\n                <h4 style={{marginTop:8}}>Prediction</h4>\r\n                {selected.prediction ? (\r\n                  <div>\r\n                    {canonicalizePredictionEntries(selected.prediction)\r\n                      .filter(([k]) => {\r\n                        const key = String(k).toLowerCase();\r\n                        return !['location','location_name','river','month','year','id','water quality'].includes(key);\r\n                      })\r\n                      .map(([k,v])=>{\r\n                        const value = formatValue(k, v);\r\n                        const s = getParameterStatus(k,v);\r\n                        return (\r\n                          <div key={k} className=\"inline-param-row\">\r\n                            <div className=\"label\">{k}</div>\r\n                            <div className=\"value\"><div className=\"val-text\">{value}</div><div className={`badge ${s.cls}`}>{s.label}</div></div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                ) : <div>Loading...</div>}\r\n              </div>\r\n            ) : (\r\n              <div className=\"placeholder\" style={{marginTop:12}}>Select a location on the map to see details here.</div>\r\n            )}\r\n          </div>\r\n          </aside>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction formatValue(key, value) {\r\n  if (value === null || value === undefined) return '—';\r\n  const n = Number(value);\r\n  if (!Number.isNaN(n)) {\r\n  if (/pH/i.test(key)) return n.toFixed(3);\r\n    if (/DO|BOD|FC|TC|MPN/i.test(key)) return n.toFixed(2);\r\n    return String(n);\r\n  }\r\n  return String(value);\r\n}\r\n\r\nfunction cleanQualityString(quality) {\r\n  if (quality === null || quality === undefined) return quality;\r\n  let s = String(quality).trim();\r\n  if (!s) return s;\r\n  // normalize whitespace\r\n  s = s.replace(/\\s+/g, ' ');\r\n  // remove duplicated trailing punctuation and normalize\r\n  s = s.replace(/[\\s\\-–_:;,.]+$/g, '').trim();\r\n  // collapse exact repeated phrases like \"X X\" or \"X X X\" -> \"X\"\r\n  const m = s.match(/^(.*?)\\s+(?:\\1\\s+)*\\1$/i);\r\n  if (m && m[1]) return m[1].trim();\r\n  // fallback: if full-string repeated twice (older regex)\r\n  const m2 = s.match(/^(.*)\\s+\\1$/i);\r\n  return m2 ? m2[1].trim() : s;\r\n}\r\n\r\nfunction canonicalizePredictionEntries(pred) {\r\n  // returns array of [key, value] with keys normalized and duplicates collapsed (last value wins)\r\n  if (!pred || typeof pred !== 'object') return [];\r\n  const map = new Map();\r\n  for (const [k, v] of Object.entries(pred)) {\r\n    const key = String(k).trim();\r\n    const norm = key.toLowerCase().replace(/\\s+/g, ' ');\r\n    // map some common aliases\r\n    const canonical = norm === 'water quality' ? 'water quality' : norm;\r\n    map.set(canonical, { key: key, value: v });\r\n  }\r\n  // return in insertion order but using original key casing for display\r\n  return Array.from(map.values()).map(x => [x.key, x.value]);\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}